# 🔒 보안 가이드

## 인증 시스템 개요

이 블로그는 관리자만 글을 작성, 수정, 삭제할 수 있도록 설계되었습니다.

### 보안 메커니즘

1. **토큰 기반 인증**
   - 로그인 시 안전한 랜덤 토큰 생성 (crypto.randomBytes)
   - 비밀번호는 클라이언트에 저장되지 않음
   - 토큰은 24시간 후 자동 만료

2. **서버 측 권한 검증**
   - 모든 CUD 작업 (Create, Update, Delete)에 토큰 검증
   - 환경변수로 관리되는 관리자 비밀번호
   - 클라이언트 측 UI 숨김 + 서버 측 검증으로 이중 보호

3. **환경변수 보안**
   - `.env` 파일은 `.gitignore`에 포함되어 Git에 업로드되지 않음
   - `NEXT_PUBLIC_*` 변수 사용하지 않아 클라이언트 노출 방지

## 설정 방법

### 1. 환경변수 설정

```bash
# .env 파일 생성
cp .env.example .env
```

```env
# 강력한 비밀번호 설정 (8자 이상 권장)
BLOG_ADMIN_PASSWORD="your_very_secure_password_123!"
```

### 2. 비밀번호 보안 요구사항

- **최소 8자 이상**
- **대소문자, 숫자, 특수문자 포함 권장**
- **추측하기 어려운 문자열 사용**
- **정기적으로 변경**

### 3. 배포 시 주의사항

#### Vercel 배포
```bash
# Vercel 환경변수 설정
vercel env add BLOG_ADMIN_PASSWORD
```

#### Netlify 배포
- Netlify 대시보드 → Site settings → Environment variables에서 설정

#### 기타 플랫폼
- 각 플랫폼의 환경변수 설정 방법을 따라 `BLOG_ADMIN_PASSWORD` 설정

## 보안 체크리스트

- [ ] `.env` 파일이 `.gitignore`에 포함되어 있는지 확인
- [ ] 강력한 관리자 비밀번호 설정
- [ ] 프로덕션 환경에서 환경변수 올바르게 설정
- [ ] 정기적인 비밀번호 변경
- [ ] 로그인 세션 24시간 제한 확인

## 추가 보안 권장사항

### 1. HTTPS 사용
프로덕션 환경에서는 반드시 HTTPS를 사용하세요.

### 2. 정기적인 보안 업데이트
```bash
npm audit
npm audit fix
```

### 3. 로그 모니터링
- 비정상적인 로그인 시도 모니터링
- API 요청 패턴 모니터링

### 4. 백업 정책
- 정기적인 데이터베이스 백업
- 환경변수 안전한 백업

## 문제 신고

보안 취약점을 발견하셨다면 다음으로 연락해주세요:
- GitHub Issues (비공개 취약점의 경우 이메일로)
- 이메일: [your-email@example.com]

---

**⚠️ 중요**: 이 시스템은 개인 블로그용으로 설계되었습니다. 대규모 서비스나 여러 사용자가 있는 환경에서는 더 강화된 인증 시스템(JWT, OAuth 등)을 고려하세요.