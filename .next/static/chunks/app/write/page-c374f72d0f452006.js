(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{1644:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});let i={owner:{id:"owner-soomin",name:"Suri",email:"yzsumin@naver.com",bio:"개발자이자 블로거입니다.",avatar:"/images/profile.jpg",social:{github:"https://github.com/yourusername",linkedin:"https://linkedin.com/in/yourusername",twitter:"https://twitter.com/yourusername"}},metadata:{title:"SuriBlog",description:"개발과 기술에 대한 이야기",url:"https://yourdomain.com",image:"/images/og-image.jpg"},auth:{adminPassword:r(49509).env.BLOG_ADMIN_PASSWORD||"admin123!",sessionTimeout:864e5}}},28990:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ej});var i=r(95155),n=r(12115),o=r(35695),s=r(88240),l=r(84823),a=r(13161),c=r(83951);let d="blog_auth";class x{static isAuthenticated(){let e=localStorage.getItem(d);if(!e)return!1;try{let{timestamp:t}=JSON.parse(e);if(!(Date.now()-t<864e5))return this.logout(),!1;return!0}catch(e){return this.logout(),!1}}static async login(e){try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),r=await t.json();if(r.success){let e={timestamp:Date.now(),user:r.user};return localStorage.setItem(d,JSON.stringify(e)),!0}return!1}catch(e){return console.error("Login error:",e),!1}}static logout(){localStorage.removeItem(d)}static clearAllSessions(){localStorage.clear()}static getUser(){if(!this.isAuthenticated())return null;let e=localStorage.getItem(d);if(!e)return null;try{let{user:t}=JSON.parse(e);return t}catch(e){return null}}}var p=r(1644),u=r(56278),h=r(54492),m=r(700),g=r(99927),b=r(54581),j=r(9665),A=r(73731),f=r(71977),y=r(68534),v=r(92549);function S(e){let{open:t,onClose:r,onSuccess:o}=e,[s,l]=(0,n.useState)(""),[a,c]=(0,n.useState)(""),[d,p]=(0,n.useState)(!1),S=async e=>{e.preventDefault(),p(!0),c("");try{await x.login(s)?(o(),r(),l("")):c("비밀번호가 올바르지 않습니다.")}catch(e){c("로그인 중 오류가 발생했습니다.")}finally{p(!1)}},C=()=>{l(""),c(""),r()};return(0,i.jsxs)(u.A,{open:t,onClose:C,maxWidth:"sm",fullWidth:!0,children:[(0,i.jsxs)(h.A,{sx:{textAlign:"center",pb:1},children:[(0,i.jsx)(v.A,{sx:{fontSize:48,color:"primary.main",mb:1}}),(0,i.jsx)(m.A,{variant:"h5",component:"div",children:"관리자 로그인"}),(0,i.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"블로그 관리를 위해 로그인해주세요"})]}),(0,i.jsxs)("form",{onSubmit:S,children:[(0,i.jsx)(g.A,{children:(0,i.jsxs)(b.A,{sx:{pt:1},children:[a&&(0,i.jsx)(j.A,{severity:"error",sx:{mb:2},children:a}),(0,i.jsx)(A.A,{fullWidth:!0,type:"password",label:"관리자 비밀번호",value:s,onChange:e=>l(e.target.value),placeholder:"비밀번호를 입력하세요",autoFocus:!0,required:!0,disabled:d})]})}),(0,i.jsxs)(f.A,{sx:{px:3,pb:3},children:[(0,i.jsx)(y.A,{onClick:C,disabled:d,children:"취소"}),(0,i.jsx)(y.A,{type:"submit",variant:"contained",disabled:d||!s.trim(),sx:{minWidth:100},children:d?"로그인 중...":"로그인"})]})]})]})}var C=r(16324),k=r(67217),z=r(14962),w=r(18407),I=r(29267),D=r(18096),R=r(83729),W=r(3127),T=r(74964),O=r(41101),M=r(71803),F=r(27088),P=r(17348),B=r(16675),E=r(76380),N=r(71302),H=r(21942),L=r(36894),J=r(28890),U=r(58674),_=r(34744),q=r(87254),$=r(21690),K=r(58005),G=r(80841),Z=r(2864),V=r(32355),X=r(6295),Y=r(29982),Q=r(27513),ee=r(99561),et=r(29393),er=r(41387),ei=r(73895),en=r(35330),eo=r(48584),es=r(69979),el=r(11130),ea=r(20904),ec=r(37857),ed=r(85089),ex=r(51935),ep=r(16142),eu=r(41350),eh=r(69817),em=r(94615),eg=r(6821);function eb(){let e=(0,C.A)(),t=(0,o.useRouter)(),r=(0,n.useRef)(null),d=(0,o.useSearchParams)().get("edit"),[u,h]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),[eb,ej]=(0,n.useState)(null),[eA,ef]=(0,n.useState)(!1),[ey,ev]=(0,n.useState)({title:"",summary:"",content:"",category:"",status:"draft"}),[eS,eC]=(0,n.useState)([]),[ek,ez]=(0,n.useState)(0),[ew,eI]=(0,n.useState)(!1),[eD,eR]=(0,n.useState)(""),[eW,eT]=(0,n.useState)("idle"),[eO,eM]=(0,n.useState)(!1),[eF,eP]=(0,n.useState)("idle"),eB=(0,n.useRef)(null),[eE,eN]=(0,n.useState)([]),[eH,eL]=(0,n.useState)(-1);(0,n.useEffect)(()=>{(async()=>{if(!d)return ef(!1);try{let e=await fetch("/api/posts/".concat(d));if(!e.ok)throw Error("Post not found");let t=await e.json();ef(!0),ev({title:t.title,summary:t.excerpt,content:t.content,category:t.category,status:t.isPublished?"published":"draft"}),eC(t.tags||[])}catch(e){console.error("Error loading post:",e),alert("포스트를 불러오는데 실패했습니다.")}finally{}})()},[d]),(0,n.useEffect)(()=>{let e=x.isAuthenticated();h(e),e?ej(x.getUser()):f(!0)},[]),(0,n.useEffect)(()=>()=>{eB.current&&clearTimeout(eB.current)},[]);let eJ=(0,n.useCallback)(async(e,t)=>{if(e&&!(e.trim().length<50)){eM(!0),eP("generating");try{let r=await fetch("/api/ai/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,title:t})});if(!r.ok)throw Error("요약 생성 실패");let i=await r.json();ev(e=>({...e,summary:i.summary})),eP("success"),setTimeout(()=>eP("idle"),2e3)}catch(e){console.error("AI 요약 생성 오류:",e),eP("error"),setTimeout(()=>eP("idle"),3e3)}finally{eM(!1)}}},[]),eU=(0,n.useCallback)((e,t)=>{eB.current&&clearTimeout(eB.current),eB.current=setTimeout(()=>{eJ(e,t)},2e3)},[eJ]),e_=e=>t=>{let r=t.target.value;"content"===e&&r!==ey.content&&e$(ey.content),ev(t=>({...t,[e]:r})),"saved"===eW&&eT("idle"),"content"===e&&r.trim().length>=50&&eU(r,ey.title)},eq=()=>{if(ey.content.trim().length<50)return void alert("요약을 생성하려면 내용을 최소 50자 이상 입력해주세요.");eJ(ey.content,ey.title)},e$=e=>{if(e===eE[eH])return;let t=eE.slice(0,eH+1);t.push(e),t.length>50&&t.shift(),eN(t),eL(t.length-1)},eK=()=>{eH>0&&(eL(eH-1),ev(e=>({...e,content:eE[eH-1]})))},eG=()=>{eH<eE.length-1&&(eL(eH+1),ev(e=>({...e,content:eE[eH+1]})))},eZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r.current)return;let o=r.current,s=o.selectionStart,l=o.selectionEnd,a=o.value.substring(s,l),c=a||i,d=e;n&&s>0&&"\n"!==o.value[s-1]&&(d="\n"+d);let x=d+c+t,p=o.value.substring(0,s)+x+o.value.substring(l);e$(ey.content),ev(e=>({...e,content:p})),setTimeout(()=>{o.focus();let e=s+d.length+(a?a.length:i.length);o.setSelectionRange(e,e)},0)},eV=e=>{eZ("#".repeat(e)+" ","","제목",!0)},eX=()=>eZ("**","**","굵은 텍스트"),eY=()=>eZ("*","*","기울임 텍스트"),eQ=()=>eZ("<u>","</u>","밑줄 텍스트"),e0=()=>eZ("~~","~~","취소선 텍스트"),e1=()=>eZ("`","`","인라인 코드"),e5=()=>eZ("```\n","\n```","코드 블록",!0),e2=()=>eZ("[","](url)","링크 텍스트"),e3=e=>()=>eR(e),e6=()=>eR(""),e4=async()=>{if(!ey.title.trim())return void alert("제목을 입력해주세요.");if(!ey.category)return void alert("카테고리를 선택해주세요.");if(!ey.summary.trim())return void alert("요약을 입력해주세요.");if(0===eS.length)return void alert("최소 1개의 태그를 입력해주세요.");eT("saving");try{let e={title:ey.title,content:ey.content,excerpt:ey.summary,slug:ey.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),tags:eS,category:ey.category,authorId:p.w.owner.id,featured:!1,isPublished:!1},t=eA?"/api/posts/".concat(d):"/api/posts",r=await fetch(t,{method:eA?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error("Failed to ".concat(eA?"update":"save"," post"));let i=await r.json();console.log("Post saved:",i),eT("saved"),setTimeout(()=>eT("idle"),3e3)}catch(e){console.error("Error saving post:",e),eT("error"),setTimeout(()=>eT("idle"),3e3)}},e8=async()=>{if(!ey.title.trim())return void alert("제목을 입력해주세요.");if(!ey.category)return void alert("카테고리를 선택해주세요.");if(!ey.summary.trim())return void alert("요약을 입력해주세요.");if(0===eS.length)return void alert("최소 1개의 태그를 입력해주세요.");try{let e={title:ey.title,content:ey.content,excerpt:ey.summary,slug:ey.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),tags:eS,category:ey.category,authorId:p.w.owner.id,featured:!1,isPublished:!0},r=eA?"/api/posts/".concat(d):"/api/posts",i=await fetch(r,{method:eA?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok)throw Error("Failed to ".concat(eA?"update":"publish"," post"));let n=await i.json();console.log("Post published:",n),alert("포스트가 ".concat(eA?"수정":"발행","되었습니다!")),eA?setTimeout(()=>{t.push("/posts/".concat(n.slug||d))},1e3):(ev({title:"",summary:"",content:"",category:"",status:"draft"}),eC([]),setTimeout(()=>{t.push("/")},1e3)),eT("idle")}catch(e){console.error("Error publishing post:",e),alert("포스트 ".concat(eA?"수정":"발행","에 실패했습니다."))}},e7=async e=>{if(e){eI(!0);try{let t=new FormData;t.append("image",e);let i=await fetch("/api/upload",{method:"POST",body:t});if(!i.ok)throw Error("Upload failed");let n=await i.json(),o="![".concat(e.name,"](").concat(n.url,")\n\n");if(r.current){let e=r.current,t=e.selectionStart,i=e.value.substring(0,t)+o+e.value.substring(t);ev(e=>({...e,content:i})),setTimeout(()=>{e.focus(),e.setSelectionRange(t+o.length,t+o.length)},0)}}catch(e){console.error("Error uploading image:",e),alert("이미지 업로드에 실패했습니다.")}finally{eI(!1)}}},e9=c.qr,te=ey.content.split(" ").length,tt=ey.content.length,tr=Math.ceil(te/200);return u?(0,i.jsx)(eh.A,{children:(0,i.jsxs)(b.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,i.jsx)(em.A,{}),(0,i.jsxs)(k.A,{maxWidth:!1,sx:{maxWidth:"1400px",mx:"auto",px:{xs:2,md:4},py:4,"& @keyframes spin":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}},children:[(0,i.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,p:3,bgcolor:"background.paper",borderRadius:2,boxShadow:"none"},children:[(0,i.jsxs)(b.A,{children:[(0,i.jsx)(m.A,{variant:"h4",component:"h1",sx:{fontWeight:600,mb:1,fontSize:"1.5rem"},children:eA?"✏️ 글 수정":"✍️ 새 글 작성"}),(0,i.jsxs)(m.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.875rem"},children:["안녕하세요, ",(null==eb?void 0:eb.name)||"관리자","님! ",eA?"글을 수정해보세요":"새로운 이야기를 시작해보세요"]})]}),(0,i.jsxs)(b.A,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,i.jsx)(z.A,{in:"idle"!==eW,children:(0,i.jsxs)(b.A,{sx:{display:"flex",alignItems:"center"},children:["saving"===eW&&(0,i.jsx)(j.A,{severity:"info",sx:{py:.5},children:"저장 중..."}),"saved"===eW&&(0,i.jsx)(j.A,{severity:"success",sx:{py:.5},children:"저장 완료!"}),"error"===eW&&(0,i.jsx)(j.A,{severity:"error",sx:{py:.5},children:"저장 실패"})]})}),(0,i.jsx)(y.A,{variant:"outlined",onClick:()=>{x.logout(),h(!1),ej(null),f(!0)},startIcon:(0,i.jsx)(H.A,{}),size:"small",sx:{borderRadius:2},children:"로그아웃"})]})]}),(0,i.jsxs)(b.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"2fr 1fr"},gap:4},children:[(0,i.jsx)(b.A,{children:(0,i.jsxs)(w.A,{sx:{height:"100%",borderRadius:2,border:"1px solid ".concat(e.palette.divider),overflow:"hidden",boxShadow:"0 2px 12px rgba(0,0,0,0.05)"},children:[(0,i.jsxs)(b.A,{sx:{p:3,borderBottom:"1px solid ".concat(e.palette.divider),background:e.palette.background.paper},children:[(0,i.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,i.jsxs)(m.A,{variant:"h6",sx:{fontWeight:600,display:"flex",alignItems:"center"},children:[(0,i.jsx)(L.A,{sx:{mr:1,color:"primary.main"}}),"에디터"]}),(0,i.jsx)(b.A,{sx:{display:"flex",gap:1},children:(0,i.jsxs)(I.A,{value:ek,onChange:(e,t)=>ez(t),children:[(0,i.jsx)(D.A,{label:"편집",icon:(0,i.jsx)(J.A,{}),iconPosition:"start"}),(0,i.jsx)(D.A,{label:"미리보기",icon:(0,i.jsx)(U.A,{}),iconPosition:"start"})]})})]}),0===ek&&(0,i.jsxs)(b.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,p:2,bgcolor:"dark"===e.palette.mode?"rgba(255,255,255,0.02)":"grey.50",borderRadius:1.5,border:"1px solid ".concat(e.palette.divider)},children:[(0,i.jsx)(R.A,{title:"실행 취소 (Ctrl+Z)",children:(0,i.jsx)(W.A,{size:"small",onClick:eK,disabled:eH<=0,sx:{p:.75},children:(0,i.jsx)(_.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"다시 실행 (Ctrl+Y)",children:(0,i.jsx)(W.A,{size:"small",onClick:eG,disabled:eH>=eE.length-1,sx:{p:.75},children:(0,i.jsx)(q.A,{sx:{fontSize:16}})})}),(0,i.jsx)(T.A,{orientation:"vertical",flexItem:!0}),(0,i.jsx)(R.A,{title:"제목 1 (H1)",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eV(1),sx:{p:.75},children:(0,i.jsx)(m.A,{sx:{fontWeight:"bold",fontSize:"12px"},children:"H1"})})}),(0,i.jsx)(R.A,{title:"제목 2 (H2)",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eV(2),sx:{p:.75},children:(0,i.jsx)(m.A,{sx:{fontWeight:"bold",fontSize:"11px"},children:"H2"})})}),(0,i.jsx)(R.A,{title:"제목 3 (H3)",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eV(3),sx:{p:.75},children:(0,i.jsx)(m.A,{sx:{fontWeight:"bold",fontSize:"10px"},children:"H3"})})}),(0,i.jsx)(T.A,{orientation:"vertical",flexItem:!0}),(0,i.jsx)(R.A,{title:"굵게 (Ctrl+B)",children:(0,i.jsx)(W.A,{size:"small",onClick:eX,sx:{p:.75},children:(0,i.jsx)($.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"기울임 (Ctrl+I)",children:(0,i.jsx)(W.A,{size:"small",onClick:eY,sx:{p:.75},children:(0,i.jsx)(K.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"밑줄 (Ctrl+U)",children:(0,i.jsx)(W.A,{size:"small",onClick:eQ,sx:{p:.75},children:(0,i.jsx)(G.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"취소선 (Ctrl+Shift+X)",children:(0,i.jsx)(W.A,{size:"small",onClick:e0,sx:{p:.75},children:(0,i.jsx)(Z.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"하이라이트",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("<mark>","</mark>","하이라이트 텍스트"),sx:{p:.75},children:(0,i.jsx)(V.A,{sx:{fontSize:16}})})}),(0,i.jsx)(T.A,{orientation:"vertical",flexItem:!0}),(0,i.jsx)(R.A,{title:"인라인 코드 (Ctrl+`)",children:(0,i.jsx)(W.A,{size:"small",onClick:e1,sx:{p:.75},children:(0,i.jsx)(X.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"코드 블록 (Ctrl+Shift+K)",children:(0,i.jsx)(W.A,{size:"small",onClick:e5,sx:{p:.75},children:(0,i.jsx)(m.A,{sx:{fontWeight:"bold",fontSize:"10px"},children:"{}"})})}),(0,i.jsx)(T.A,{orientation:"vertical",flexItem:!0}),(0,i.jsx)(R.A,{title:"링크 (Ctrl+K)",children:(0,i.jsx)(W.A,{size:"small",onClick:e2,sx:{p:.75},children:(0,i.jsx)(Y.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"이미지",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("![","](image-url)","이미지 설명"),sx:{p:.75},children:(0,i.jsx)(Q.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"이미지 업로드",children:(0,i.jsxs)(W.A,{size:"small",component:"label",disabled:ew,sx:{p:.75},children:[(0,i.jsx)(m.A,{sx:{fontWeight:"bold",fontSize:"10px"},children:"\uD83D\uDCF7"}),(0,i.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];r&&e7(r)}})]})}),(0,i.jsx)(T.A,{orientation:"vertical",flexItem:!0}),(0,i.jsx)(R.A,{title:"순서없는 목록",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("- ","","목록 항목",!0),sx:{p:.75},children:(0,i.jsx)(ee.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"순서있는 목록",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("1. ","","번호 목록 항목",!0),sx:{p:.75},children:(0,i.jsx)(et.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"체크박스 목록",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("- [ ] ","","체크박스 항목",!0),sx:{p:.75},children:(0,i.jsx)(er.A,{sx:{fontSize:16}})})}),(0,i.jsx)(T.A,{orientation:"vertical",flexItem:!0}),(0,i.jsx)(R.A,{title:"인용문",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("> ","","인용문",!0),sx:{p:.75},children:(0,i.jsx)(ei.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"표",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>{eZ("| 헤더1 | 헤더2 | 헤더3 |\n|-------|-------|-------|\n| 내용1 | 내용2 | 내용3 |\n| 내용4 | 내용5 | 내용6 |","","",!0)},sx:{p:.75},children:(0,i.jsx)(en.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"구분선",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("\n---\n","","",!1),sx:{p:.75},children:(0,i.jsx)(eo.A,{sx:{fontSize:16}})})}),(0,i.jsx)(T.A,{orientation:"vertical",flexItem:!0}),(0,i.jsx)(R.A,{title:"인라인 수식",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("$","$","수식"),sx:{p:.75},children:(0,i.jsx)(es.A,{sx:{fontSize:16}})})}),(0,i.jsx)(R.A,{title:"수식 블록",children:(0,i.jsx)(W.A,{size:"small",onClick:()=>eZ("$$\n","\n$$","수식 블록",!0),sx:{p:.75},children:(0,i.jsx)(el.A,{sx:{fontSize:16}})})})]})]}),(0,i.jsxs)(b.A,{sx:{p:3,display:"flex",flexDirection:"column",gap:3},children:[(0,i.jsx)(A.A,{fullWidth:!0,label:"title"===eD?"":"제목",value:ey.title,onChange:e_("title"),onFocus:e3("title"),onBlur:e6,placeholder:"title"===eD||ey.title?"포스트 제목을 입력하세요":"",variant:"outlined",required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1.5,fontSize:"1.2rem",fontWeight:500,bgcolor:"background.paper",color:"text.primary","& input":{color:"inherit"},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}}}),(0,i.jsxs)(b.A,{sx:{position:"relative"},children:[(0,i.jsx)(A.A,{fullWidth:!0,label:"summary"===eD?"":"요약",value:ey.summary,onChange:e_("summary"),onFocus:e3("summary"),onBlur:e6,placeholder:"summary"===eD||ey.summary?"포스트의 간단한 요약을 입력하세요 (150자 이내 권장)":"",variant:"outlined",multiline:!0,rows:3,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1.5,bgcolor:"background.paper",color:"text.primary","& textarea":{color:"inherit"},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}}}),(0,i.jsxs)(b.A,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:1,alignItems:"center"},children:["generating"===eF&&(0,i.jsx)(O.A,{icon:(0,i.jsx)(ea.A,{}),label:"AI 생성 중...",size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.75rem"}}),"success"===eF&&(0,i.jsx)(O.A,{icon:(0,i.jsx)(ea.A,{}),label:"AI 생성 완료",size:"small",color:"success",variant:"outlined",sx:{fontSize:"0.75rem"}}),"error"===eF&&(0,i.jsx)(O.A,{icon:(0,i.jsx)(ea.A,{}),label:"생성 실패",size:"small",color:"error",variant:"outlined",sx:{fontSize:"0.75rem"}}),(0,i.jsx)(R.A,{title:"AI로 요약 생성",children:(0,i.jsx)(W.A,{size:"small",onClick:eq,disabled:eO||ey.content.trim().length<50,sx:{bgcolor:"background.paper",border:"1px solid",borderColor:"divider","&:hover":{bgcolor:"primary.50",borderColor:"primary.main"}},children:eO?(0,i.jsx)(ec.A,{sx:{animation:"spin 1s linear infinite"}}):(0,i.jsx)(ea.A,{})})})]}),(0,i.jsxs)(b.A,{sx:{mt:1,display:"flex",alignItems:"center",gap:1},children:[(0,i.jsx)(ea.A,{sx:{fontSize:16,color:"primary.main"}}),(0,i.jsx)(m.A,{variant:"caption",color:"text.secondary",children:ey.content.trim().length<50?"내용을 50자 이상 입력하면 AI가 자동으로 요약을 생성합니다":eO?"AI가 내용을 분석하여 요약을 생성 중입니다...":"내용이 변경되면 2초 후 자동으로 요약이 업데이트됩니다"})]})]}),0===ek&&(0,i.jsx)(A.A,{fullWidth:!0,label:"content"===eD?"":"내용",value:ey.content,onChange:e_("content"),onFocus:e3("content"),onBlur:e6,onKeyDown:e=>{let t=navigator.platform.toUpperCase().indexOf("MAC")>=0?e.metaKey:e.ctrlKey;if(t&&!e.shiftKey)switch(e.key.toLowerCase()){case"b":e.preventDefault(),eX();break;case"i":e.preventDefault(),eY();break;case"u":e.preventDefault(),eQ();break;case"k":e.preventDefault(),e2();break;case"z":e.preventDefault(),eK();break;case"y":e.preventDefault(),eG();break;case"`":e.preventDefault(),e1()}if(t&&e.shiftKey)switch(e.key.toLowerCase()){case"z":e.preventDefault(),eG();break;case"k":e.preventDefault(),e5();break;case"x":e.preventDefault(),e0()}},placeholder:"content"===eD||ey.content?'마크다운 형식으로 내용을 작성하세요...\n\n예시:\n# 제목\n## 소제목\n\n본문 내용을 여기에 작성하세요.\n\n**굵은 글씨** *기울임* `코드`\n\n> 인용문\n\n- 목록 항목\n\n```javascript\nfunction example() {\n  console.log("코드 블록");\n}\n```':"",variant:"outlined",multiline:!0,rows:20,required:!0,inputRef:r,sx:{"& .MuiOutlinedInput-root":{borderRadius:1.5,fontFamily:'"JetBrains Mono", "Fira Code", Monaco, Menlo, "Ubuntu Mono", monospace',fontSize:"14px",lineHeight:1.6,bgcolor:"background.paper",color:"text.primary","& textarea":{resize:"vertical",color:"inherit"},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}}}),1===ek&&(0,i.jsx)(b.A,{sx:{minHeight:"500px",p:3,border:"1px solid ".concat(e.palette.divider),borderRadius:1.5,bgcolor:"background.paper","& h1, & h2, & h3, & h4, & h5, & h6":{fontWeight:600,mb:2,mt:3,color:e.palette.text.primary},"& p":{mb:2,lineHeight:1.7,color:e.palette.text.primary},"& code":{backgroundColor:"dark"===e.palette.mode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.08)",padding:"2px 6px",borderRadius:"4px",fontFamily:'"JetBrains Mono", "Fira Code", Monaco, Menlo, "Ubuntu Mono", monospace',fontSize:"0.9em",color:e.palette.text.primary},"& pre":{backgroundColor:"dark"===e.palette.mode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.04)",padding:"16px",borderRadius:"8px",overflow:"auto",fontFamily:'"JetBrains Mono", "Fira Code", Monaco, Menlo, "Ubuntu Mono", monospace',fontSize:"0.9em",border:"1px solid ".concat(e.palette.divider),"& code":{backgroundColor:"transparent",padding:0,borderRadius:0}},"& blockquote":{borderLeft:"4px solid ".concat(e.palette.primary.main),paddingLeft:"16px",margin:"16px 0",fontStyle:"italic",color:e.palette.text.secondary,backgroundColor:"dark"===e.palette.mode?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.02)",padding:"12px 16px",borderRadius:"4px"},"& ul, & ol":{paddingLeft:"24px",marginBottom:"16px"},"& li":{marginBottom:"8px",lineHeight:1.6},"& table":{width:"100%",borderCollapse:"collapse",marginBottom:"16px",border:"1px solid ".concat(e.palette.divider)},"& th, & td":{padding:"12px",textAlign:"left",borderBottom:"1px solid ".concat(e.palette.divider),borderRight:"1px solid ".concat(e.palette.divider)},"& th":{backgroundColor:"dark"===e.palette.mode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.04)",fontWeight:600},"& img":{maxWidth:"100%",height:"auto",borderRadius:"8px",marginBottom:"16px"},"& a":{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& hr":{border:"none",borderTop:"2px solid ".concat(e.palette.divider),margin:"24px 0"},"& mark":{backgroundColor:"dark"===e.palette.mode?"rgba(255, 193, 7, 0.3)":e.palette.warning.light,padding:"2px 4px",borderRadius:"2px"},'& input[type="checkbox"]':{marginRight:"8px"}},children:ey.content?(0,i.jsx)(s.oz,{remarkPlugins:[l.A],rehypePlugins:[a.A],components:{input:e=>{let{type:t,checked:r,...n}=e;return"checkbox"===t?(0,i.jsx)("input",{type:"checkbox",checked:r,readOnly:!0,style:{marginRight:"8px"},...n}):(0,i.jsx)("input",{type:t,...n})},code:e=>{let{className:t,children:r,...n}=e;return(0,i.jsx)("code",{className:t,...n,children:r})},pre:e=>{let{className:t,children:r,...n}=e;return(0,i.jsx)("pre",{className:t,...n,children:r})}},children:ey.content}):(0,i.jsx)(m.A,{color:"text.secondary",sx:{fontStyle:"italic"},children:"내용을 입력하면 여기에 미리보기가 표시됩니다..."})})]})]})}),(0,i.jsx)(b.A,{children:(0,i.jsxs)(b.A,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,i.jsxs)(w.A,{sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider),bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,i.jsxs)(m.A,{variant:"h6",sx:{fontWeight:600,mb:3,display:"flex",alignItems:"center"},children:[(0,i.jsx)(ed.A,{sx:{mr:1,color:"primary.main"}}),"발행 관리"]}),(0,i.jsxs)(M.A,{spacing:2,children:[(0,i.jsx)(y.A,{fullWidth:!0,variant:"outlined",size:"large",startIcon:(0,i.jsx)(ex.A,{}),onClick:e4,disabled:"saving"===eW,sx:{borderRadius:1.5,py:1.5,textTransform:"none",fontSize:"1rem","&:hover":{borderColor:"primary.main",bgcolor:"primary.50"}},children:"saving"===eW?"저장 중...":"임시 저장"}),(0,i.jsx)(y.A,{fullWidth:!0,variant:"contained",size:"large",startIcon:(0,i.jsx)(ed.A,{}),onClick:e8,sx:{borderRadius:1.5,py:1.5,textTransform:"none",fontSize:"1rem",fontWeight:600,boxShadow:"0 2px 8px rgba(0,0,0,0.15)","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.2)"}},children:eA?"수정 완료":"발행하기"})]})]}),(0,i.jsxs)(w.A,{sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider),bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,i.jsx)(m.A,{variant:"h6",sx:{fontWeight:600,mb:3},children:"\uD83D\uDCC2 분류 설정"}),(0,i.jsxs)(M.A,{spacing:3,children:[(0,i.jsxs)(F.A,{fullWidth:!0,required:!0,children:[(0,i.jsx)(P.A,{children:"카테고리 *"}),(0,i.jsx)(B.A,{value:ey.category,onChange:e_("category"),label:"카테고리 *",required:!0,sx:{borderRadius:1.5,color:"text.primary","& .MuiOutlinedInput-root":{"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}},children:e9.map(e=>(0,i.jsx)(E.A,{value:e,children:e},e))})]}),(0,i.jsxs)(F.A,{fullWidth:!0,children:[(0,i.jsx)(P.A,{children:"상태"}),(0,i.jsxs)(B.A,{value:ey.status,onChange:e_("status"),label:"상태",sx:{borderRadius:1.5,color:"text.primary","& .MuiOutlinedInput-root":{"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}},children:[(0,i.jsx)(E.A,{value:"draft",children:"\uD83D\uDCDD 초안"}),(0,i.jsx)(E.A,{value:"published",children:"\uD83C\uDF0D 발행됨"}),(0,i.jsx)(E.A,{value:"private",children:"\uD83D\uDD12 비공개"})]})]})]})]}),(0,i.jsxs)(w.A,{sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider),bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,i.jsxs)(m.A,{variant:"h6",sx:{fontWeight:600,mb:3,display:"flex",alignItems:"center"},children:[(0,i.jsx)(ep.A,{sx:{mr:1,color:"primary.main"}}),"태그"]}),(0,i.jsx)(N.A,{multiple:!0,options:["React","JavaScript","TypeScript","Next.js","Vue.js","Node.js","Python","CSS","HTML","Web Development","Frontend","Backend","Tutorial","Guide","Tips"],value:eS,onChange:(e,t)=>eC(t),freeSolo:!0,renderTags:(e,t)=>e.map((e,r)=>{let{key:i,...o}=t({index:r});return(0,n.createElement)(O.A,{variant:"outlined",label:e,...o,key:i,sx:{borderRadius:1.5,"&:hover":{borderColor:"primary.main",bgcolor:"primary.50"}}})}),renderInput:e=>(0,i.jsx)(A.A,{...e,placeholder:0===eS.length?"태그를 추가하세요 (Enter로 구분)":"",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:1.5,color:"text.primary","& input":{color:"inherit"},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}}})}),(0,i.jsx)(m.A,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"\uD83D\uDCA1 태그는 검색과 분류에 도움이 됩니다"})]}),(0,i.jsxs)(w.A,{sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider),bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,i.jsxs)(m.A,{variant:"h6",sx:{fontWeight:600,mb:3,display:"flex",alignItems:"center"},children:[(0,i.jsx)(eu.A,{sx:{mr:1,color:"primary.main"}}),"작성 통계"]}),(0,i.jsxs)(b.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[(0,i.jsxs)(b.A,{sx:{textAlign:"center",p:2,bgcolor:"dark"===e.palette.mode?"rgba(255,255,255,0.02)":"grey.50",borderRadius:1.5,border:"1px solid ".concat(e.palette.divider)},children:[(0,i.jsx)(m.A,{variant:"h4",sx:{fontWeight:700,color:"primary.main"},children:te.toLocaleString()}),(0,i.jsx)(m.A,{variant:"caption",color:"text.secondary",children:"단어"})]}),(0,i.jsxs)(b.A,{sx:{textAlign:"center",p:2,bgcolor:"dark"===e.palette.mode?"rgba(255,255,255,0.02)":"grey.50",borderRadius:1.5,border:"1px solid ".concat(e.palette.divider)},children:[(0,i.jsx)(m.A,{variant:"h4",sx:{fontWeight:700,color:"secondary.main"},children:tr}),(0,i.jsx)(m.A,{variant:"caption",color:"text.secondary",children:"분 읽기"})]})]}),(0,i.jsx)(b.A,{sx:{mt:2,p:2,bgcolor:"dark"===e.palette.mode?"rgba(255,255,255,0.02)":"grey.50",borderRadius:1.5},children:(0,i.jsxs)(b.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(m.A,{variant:"body2",color:"text.secondary",children:"문자 수"}),(0,i.jsx)(m.A,{variant:"body2",fontWeight:"600",children:tt.toLocaleString()})]})})]}),(0,i.jsxs)(w.A,{sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider),bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,i.jsxs)(m.A,{variant:"h6",sx:{fontWeight:600,mb:3,display:"flex",alignItems:"center"},children:[(0,i.jsx)(ea.A,{sx:{mr:1,color:"primary.main"}}),"AI 어시스턴트"]}),(0,i.jsxs)(M.A,{spacing:2,children:[(0,i.jsxs)(b.A,{sx:{p:2,bgcolor:"generating"===eF?"dark"===e.palette.mode?"rgba(33, 150, 243, 0.1)":"primary.50":"dark"===e.palette.mode?"rgba(255,255,255,0.02)":"grey.50",borderRadius:1.5,border:"1px solid ".concat("generating"===eF?e.palette.primary.main:e.palette.divider)},children:[(0,i.jsxs)(m.A,{variant:"body2",fontWeight:"600",sx:{mb:1,display:"flex",alignItems:"center"},children:["generating"===eF&&(0,i.jsx)(ec.A,{sx:{fontSize:16,mr:1,animation:"spin 1s linear infinite"}}),"자동 요약 상태"]}),(0,i.jsxs)(m.A,{variant:"caption",color:"text.secondary",children:["idle"===eF&&"대기 중","generating"===eF&&"AI가 요약을 생성하고 있습니다...","success"===eF&&"✅ 요약이 성공적으로 생성되었습니다","error"===eF&&"❌ 요약 생성에 실패했습니다"]})]}),(0,i.jsx)(y.A,{fullWidth:!0,variant:"outlined",startIcon:(0,i.jsx)(ea.A,{}),onClick:eq,disabled:eO||ey.content.trim().length<50,sx:{borderRadius:1.5,textTransform:"none","&:hover":{borderColor:"primary.main",bgcolor:"primary.50"}},children:eO?"생성 중...":"수동으로 요약 생성"}),(0,i.jsxs)(b.A,{sx:{p:2,bgcolor:"dark"===e.palette.mode?"rgba(3, 169, 244, 0.1)":"info.50",borderRadius:1.5,border:"1px solid ".concat(e.palette.info.main)},children:[(0,i.jsx)(m.A,{variant:"body2",color:"info.main",sx:{fontWeight:600,mb:1},children:"\uD83D\uDCA1 AI 요약 팁"}),(0,i.jsxs)(m.A,{variant:"caption",color:"text.secondary",children:["• 내용을 50자 이상 작성하면 자동 생성됩니다",(0,i.jsx)("br",{}),"• 2초 지연 후 자동으로 업데이트됩니다",(0,i.jsx)("br",{}),"• 수동 생성 버튼으로 즉시 생성 가능합니다",(0,i.jsx)("br",{}),"• 생성된 요약은 언제든 수정할 수 있습니다"]})]})]})]}),(0,i.jsxs)(w.A,{sx:{p:3,borderRadius:2,border:"1px solid ".concat(e.palette.divider),bgcolor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,i.jsx)(m.A,{variant:"h6",sx:{fontWeight:600,mb:2},children:"\uD83D\uDCA1 작성 팁"}),(0,i.jsxs)(b.A,{component:"ul",sx:{pl:2,m:0},children:[(0,i.jsx)(m.A,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:1},children:"제목은 구체적이고 흥미롭게 작성하세요"}),(0,i.jsx)(m.A,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:1},children:"AI 요약을 활용해 매력적인 서론을 만드세요"}),(0,i.jsx)(m.A,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:1},children:"마크다운 툴바를 활용해 서식을 추가하세요"}),(0,i.jsx)(m.A,{component:"li",variant:"body2",color:"text.secondary",children:"미리보기로 최종 결과를 확인하세요"})]})]})]})})]})]}),(0,i.jsx)(eg.A,{})]})}):(0,i.jsx)(eh.A,{children:(0,i.jsxs)(b.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,i.jsx)(em.A,{}),(0,i.jsx)(k.A,{maxWidth:"md",sx:{py:8},children:(0,i.jsxs)(b.A,{sx:{textAlign:"center"},children:[(0,i.jsx)(v.A,{sx:{fontSize:80,color:"primary.main",mb:2}}),(0,i.jsx)(m.A,{variant:"h4",gutterBottom:!0,children:"로그인이 필요합니다"}),(0,i.jsx)(m.A,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"블로그 글 작성은 관리자만 가능합니다."}),(0,i.jsx)(y.A,{variant:"contained",onClick:()=>f(!0),startIcon:(0,i.jsx)(v.A,{}),children:"관리자 로그인"})]})}),(0,i.jsx)(eg.A,{}),(0,i.jsx)(S,{open:g,onClose:()=>f(!1),onSuccess:()=>{h(!0),ej(x.getUser()),f(!1)}})]})})}function ej(){return(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"로딩 중..."}),children:(0,i.jsx)(eb,{})})}},39363:(e,t,r)=>{Promise.resolve().then(r.bind(r,28990))},83951:(e,t,r)=>{"use strict";r.d(t,{Gv:()=>o,Z_:()=>n,qr:()=>i});let i=["Tech Insights","Code Solutions","Developer Tips"],n={"Tech Insights":"기술 트렌드와 인사이트를 공유합니다.","Code Solutions":"실무에서 마주하는 문제와 해결책을 다룹니다.","Developer Tips":"개발 생산성을 높이는 팁과 노하우를 제공합니다."},o={"Tech Insights":"linear-gradient(135deg, #B3E5FC, #81D4FA)","Code Solutions":"linear-gradient(135deg, #FFB5A7, #FCD29F)","Developer Tips":"linear-gradient(135deg, #F8BBD9, #E2E2FD)"}}},e=>{var t=t=>e(e.s=t);e.O(0,[112,374,690,768,802,259,441,684,120],()=>t(39363)),_N_E=e.O()}]);