(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{5087:(e,r,t)=>{Promise.resolve().then(t.bind(t,77850))},77850:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>T});var s=t(95155),n=t(12115),i=t(54581),l=t(67217),o=t(700),a=t(18407),c=t(71803),x=t(73731),d=t(33989),h=t(68534),p=t(41101),f=t(22376),m=t(85222),g=t(97482),A=t(89990),j=t(41218),u=t(16632),b=t(63954),y=t(94424),v=t(26392),w=t(6643),S=t(86475),C=t(31747),k=t(335),W=t(58674),I=t(20250),z=t(69817),L=t(94615),O=t(6821);function T(){let[e,r]=(0,n.useState)(""),[t,T]=(0,n.useState)(null),[_,B]=(0,n.useState)(["2024"]),[E,F]=(0,n.useState)([]),[N,D]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/posts?isPublished=true&limit=100");if(e.ok){let r=(await e.json()).posts||[];if(r.length>0){let e=r.map(e=>({id:e.id,title:e.title,excerpt:e.excerpt||"",tags:Array.isArray(e.tags)?e.tags.map(e=>"string"==typeof e?e:e.name):[],category:e.category,publishedAt:e.publishedAt,readTime:e.readTime||5,views:Number(e.views)||0,featured:e.featured||!1,slug:e.slug}));F(e)}}}catch(e){console.error("Failed to fetch posts:",e)}finally{D(!1)}})()},[]);let H=E.reduce((e,r)=>{let t=new Date(r.publishedAt).getFullYear().toString();return e[t]||(e[t]=[]),e[t].push(r),e},{}),M=Array.from(new Set(E.map(e=>e.category))),P=Object.entries(H).map(r=>{let[s,n]=r;return{year:s,posts:n.filter(r=>{if(t&&r.category!==t)return!1;if(""===e.trim())return!0;let s=e.toLowerCase().trim(),n=(r.title||"").toLowerCase(),i=(r.excerpt||"").toLowerCase(),l=(r.category||"").toLowerCase(),o=r.tags||[];return n.includes(s)||i.includes(s)||l.includes(s)||o.some(e=>(e||"").toLowerCase().includes(s))})}}).filter(e=>{let{posts:r}=e;return r.length>0}).sort((e,r)=>parseInt(r.year)-parseInt(e.year)),R=e=>{B(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},Y=e=>{let r=e.slug||e.title.toLowerCase().replace(/[^a-z0-9가-힣]+/g,"-").replace(/(^-|-$)/g,"");window.location.href="/posts/".concat(r)},K=e=>({html:"#ffebee",css:"#e3f2fd",javascript:"#fff9c4",typescript:"#e8f5ff",react:"#e0f7fa",nextjs:"#f3e5f5",vue:"#e8f5e8",nuxt:"#f1f8e9",frontend:"#e1f5fe",backend:"#f1f8e9",database:"#fff8e1",node:"#e8f5e8",python:"#fff3e0",development:"#f3e5f5",tools:"#e8eaf6",git:"#ffebee",devops:"#e8eaf6",tutorial:"#e8f5e8",review:"#fff3e0","tech insights":"#e3f2fd",personal:"#fce4ec",career:"#fce4ec",productivity:"#f3e5f5",ai:"#f9fbe7",bootstrap:"#f3e5f5","material-ui":"#e3f2fd","responsive design":"#ffebee",figma:"#fce4ec",zeplin:"#fff3e0"})[e.toLowerCase().trim()]||"#f5f5f5",$=E.reduce((e,r)=>e+(r.views||0),0),q=new Set(E.flatMap(e=>e.tags||[])).size;return((0,n.useEffect)(()=>{E.length>0&&(console.log("\uD83D\uDCCA Archives 통계:"),console.log("총 포스트:",E.length),console.log("각 포스트 조회수:",E.map(e=>({title:e.title,views:e.views}))),console.log("총 조회수:",$))},[E,$]),N)?(0,s.jsx)(z.A,{children:(0,s.jsxs)(i.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,s.jsx)(L.A,{}),(0,s.jsx)(l.A,{maxWidth:!1,sx:{maxWidth:{xs:"100%",md:"1300px"},mx:"auto",px:4,py:6},children:(0,s.jsx)(i.A,{sx:{textAlign:"center",py:8},children:(0,s.jsx)(o.A,{variant:"h6",children:"Loading..."})})}),(0,s.jsx)(O.A,{})]})}):(0,s.jsx)(z.A,{children:(0,s.jsxs)(i.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,s.jsx)(L.A,{}),(0,s.jsxs)(l.A,{maxWidth:!1,sx:{maxWidth:{xs:"100%",md:"1300px"},mx:"auto",px:4,py:6},children:[(0,s.jsxs)(i.A,{sx:{textAlign:"center",mb:6},children:[(0,s.jsx)(o.A,{variant:"h2",component:"h1",gutterBottom:!0,children:"Archives"}),(0,s.jsx)(o.A,{variant:"h6",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"지금까지 작성한 모든 블로그 글들을 한눈에 둘러보세요. 카테고리별, 연도별로 정리되어 있습니다."})]}),(0,s.jsxs)(a.A,{sx:{p:4,mb:6,textAlign:"center",boxShadow:"none"},children:[(0,s.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"블로그 현황"}),(0,s.jsxs)(i.A,{sx:{mt:2,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:4,justifyItems:"center"},children:[(0,s.jsxs)(i.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(o.A,{variant:"h3",color:"primary",fontWeight:"bold",children:E.length}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"총 포스트"})]}),(0,s.jsxs)(i.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(o.A,{variant:"h3",color:"primary",fontWeight:"bold",children:M.length}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"카테고리"})]}),(0,s.jsxs)(i.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(o.A,{variant:"h3",color:"primary",fontWeight:"bold",children:q}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"태그"})]}),(0,s.jsxs)(i.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(o.A,{variant:"h3",color:"primary",fontWeight:"bold",children:$>=1e3?"".concat(($/1e3).toFixed(1),"k"):($||0).toLocaleString()}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"총 조회수"}),!1]})]})]}),(0,s.jsxs)(i.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"2fr 1fr"},gap:4},children:[(0,s.jsxs)(i.A,{children:[(0,s.jsxs)(a.A,{sx:{p:3,mb:4,boxShadow:"none"},children:[(0,s.jsxs)(c.A,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"center"},children:[(0,s.jsx)(x.A,{fullWidth:!0,placeholder:"제목, 내용, 태그로 검색...",value:e,onChange:e=>r(e.target.value),InputProps:{startAdornment:(0,s.jsx)(d.A,{position:"start",children:(0,s.jsx)(b.A,{})})},sx:{"& .MuiOutlinedInput-root":{height:"56px"}}}),(0,s.jsx)(h.A,{variant:null===t?"contained":"outlined",startIcon:(0,s.jsx)(y.A,{}),onClick:()=>T(null),sx:{minWidth:120,height:"56px",whiteSpace:"nowrap",flexShrink:0},children:"모든 카테고리"})]}),(0,s.jsx)(i.A,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:M.map(e=>(0,s.jsx)(p.A,{label:e,onClick:()=>T(e===t?null:e),color:t===e?"primary":"default",variant:t===e?"filled":"outlined",sx:{cursor:"pointer",whiteSpace:"nowrap","& .MuiChip-label":{overflow:"visible",textOverflow:"unset"}}},e))})]}),(0,s.jsx)(i.A,{children:0===E.length?(0,s.jsxs)(a.A,{sx:{p:6,textAlign:"center",boxShadow:"none"},children:[(0,s.jsx)(v.A,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,s.jsx)(o.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"아직 작성된 포스트가 없습니다"}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"첫 번째 포스트를 작성해보세요!"})]}):0===P.length?(0,s.jsxs)(a.A,{sx:{p:6,textAlign:"center",boxShadow:"none"},children:[(0,s.jsx)(b.A,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,s.jsx)(o.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:""!==e.trim()?'"'.concat(e,'"에 대한 검색 결과가 없습니다'):t?'"'.concat(t,'" 카테고리에 포스트가 없습니다'):"조건에 맞는 포스트가 없습니다"}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:""!==e.trim()?"다른 검색어를 시도해보세요":"다른 카테고리를 선택해보세요"}),(""!==e.trim()||t)&&(0,s.jsx)(h.A,{variant:"outlined",onClick:()=>{r(""),T(null)},sx:{mt:2},children:"모든 포스트 보기"})]}):P.map(e=>{let{year:r,posts:t}=e;return(0,s.jsxs)(a.A,{sx:{mb:3,boxShadow:"none"},children:[(0,s.jsxs)(f.A,{onClick:()=>R(r),sx:{p:3},children:[(0,s.jsx)(w.A,{sx:{mr:2,color:"primary.main"}}),(0,s.jsx)(m.A,{primary:(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,s.jsx)(o.A,{variant:"h5",fontWeight:"bold",children:r}),(0,s.jsx)(g.A,{badgeContent:t.length,color:"primary"})]}),secondary:"".concat(t.length,"개의 포스트")}),_.includes(r)?(0,s.jsx)(S.A,{}):(0,s.jsx)(C.A,{})]}),(0,s.jsx)(A.A,{in:_.includes(r),children:(0,s.jsx)(i.A,{sx:{px:3,pb:3},children:(0,s.jsx)(c.A,{spacing:2,children:t.map(e=>(0,s.jsx)(j.A,{sx:{cursor:"pointer",transition:"all 0.3s ease",boxShadow:"none",border:"1px solid",borderColor:"divider",backgroundColor:"background.paper","&:hover":{transform:"translateY(-4px)",borderColor:"primary.main",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",backgroundColor:"grey.50"}},onClick:()=>Y(e),children:(0,s.jsxs)(u.A,{sx:{p:3},children:[(0,s.jsxs)(i.A,{sx:{mb:2},children:[(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,s.jsx)(p.A,{label:e.category,size:"small",color:"primary",variant:"outlined",sx:{fontSize:"0.75rem"}}),e.featured&&(0,s.jsx)(p.A,{label:"Featured",size:"small",color:"secondary"})]}),(0,s.jsx)(o.A,{variant:"h6",component:"h3",sx:{mb:1,fontWeight:"bold"},children:e.title}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mb:2,lineHeight:1.6,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.excerpt}),e.tags.length>0&&(0,s.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:2},children:[e.tags.slice(0,3).map(e=>(0,s.jsx)(p.A,{label:e,size:"small",sx:{fontSize:"0.7rem",height:"20px",backgroundColor:K(e),border:"none",color:"#555","&:hover":{backgroundColor:K(e)}}},e)),e.tags.length>3&&(0,s.jsx)(p.A,{label:"+".concat(e.tags.length-3),size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:"20px"}})]})]}),(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pt:2,borderTop:"1px solid",borderColor:"divider"},children:[(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,s.jsx)(k.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,s.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:[e.readTime,"분"]})]}),(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,s.jsx)(W.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:e.views.toLocaleString()})]})]}),(0,s.jsx)(o.A,{variant:"body2",color:"text.secondary",children:new Date(e.publishedAt).toLocaleDateString("ko-KR")})]})]})},e.id))})})})]},r)})})]}),(0,s.jsx)(i.A,{children:(0,s.jsxs)(i.A,{sx:{position:"sticky",top:24},children:[(0,s.jsxs)(a.A,{sx:{p:3,mb:3,boxShadow:"none"},children:[(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,s.jsx)(I.A,{sx:{mr:1.5,color:"primary.main"}}),(0,s.jsx)(o.A,{variant:"h6",children:"인기 포스트"})]}),(0,s.jsx)(c.A,{spacing:2,children:E.sort((e,r)=>r.views-e.views).slice(0,5).map((e,r)=>(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"flex-start",gap:2,cursor:"pointer",p:1,borderRadius:1,"&:hover":{bgcolor:"action.hover"}},onClick:()=>Y(e),children:[(0,s.jsx)(o.A,{variant:"h6",color:"primary",sx:{minWidth:24,textAlign:"center"},children:r+1}),(0,s.jsxs)(i.A,{children:[(0,s.jsx)(o.A,{variant:"body2",fontWeight:"medium",sx:{mb:.5},children:e.title}),(0,s.jsxs)(o.A,{variant:"caption",color:"text.secondary",children:[e.views.toLocaleString()," views"]})]})]},e.id))})]}),(0,s.jsxs)(a.A,{sx:{p:3,boxShadow:"none"},children:[(0,s.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,s.jsx)(v.A,{sx:{mr:1.5,color:"primary.main"}}),(0,s.jsx)(o.A,{variant:"h6",children:"카테고리별 포스트"})]}),(0,s.jsx)(c.A,{spacing:1,children:M.map(e=>{let r=E.filter(r=>r.category===e).length;return(0,s.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",p:1,borderRadius:1,"&:hover":{bgcolor:"action.hover"},bgcolor:t===e?"primary.50":"transparent",border:t===e?"1px solid":"none",borderColor:t===e?"primary.main":"transparent"},onClick:()=>T(e===t?null:e),children:[(0,s.jsx)(o.A,{variant:"body2",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flex:1,mr:1,fontWeight:t===e?600:400,color:t===e?"primary.main":"text.primary"},children:e}),(0,s.jsx)(p.A,{label:r,size:"small",variant:t===e?"filled":"outlined",color:t===e?"primary":"default",sx:{flexShrink:0}})]},e)})})]})]})})]})]}),(0,s.jsx)(O.A,{})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[112,54,259,441,684,120],()=>r(5087)),_N_E=e.O()}]);