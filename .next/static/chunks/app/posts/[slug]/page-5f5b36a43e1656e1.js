(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{1644:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});let o={owner:{id:"owner-soomin",name:"Suri",email:"yzsumin@naver.com",bio:"개발자이자 블로거입니다.",avatar:"/images/profile.jpg",social:{github:"https://github.com/yourusername",linkedin:"https://linkedin.com/in/yourusername",twitter:"https://twitter.com/yourusername"}},metadata:{title:"SuriBlog",description:"개발과 기술에 대한 이야기",url:"https://yourdomain.com",image:"/images/og-image.jpg"},auth:{adminPassword:r(49509).env.BLOG_ADMIN_PASSWORD||"admin123!",sessionTimeout:864e5}}},7428:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var o=r(15933),n=r(95155),a=r(54581),i=r(14426),s=r(700),l=r(13380);function c(){let e=(0,o._)(["\n  0% {\n    opacity: 0.4;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0.4;\n  }\n"]);return c=function(){return e},e}function d(){let e=(0,o._)(["\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-8px);\n  }\n  60% {\n    transform: translateY(-4px);\n  }\n"]);return d=function(){return e},e}function x(){let e=(0,o._)(["\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]);return x=function(){return e},e}let h=(0,l.i7)(c()),m=(0,l.i7)(d()),u=(0,l.i7)(x());function p(e){let{variant:t="default",message:r="로딩 중...",size:o="medium"}=e,l=()=>{switch(o){case"small":return 24;case"large":return 60;default:return 40}};return"minimal"===t?(0,n.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:2},children:(0,n.jsx)(i.A,{size:l()})}):"fullscreen"===t?(0,n.jsx)(a.A,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(4px)",zIndex:9999,animation:"".concat(u," 0.3s ease-out")},children:(0,n.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:3,p:4,borderRadius:2,backgroundColor:"white",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",animation:"".concat(h," 2s ease-in-out infinite")},children:[(0,n.jsx)(i.A,{size:48,thickness:4}),(0,n.jsx)(s.A,{variant:"h6",color:"text.secondary",sx:{animation:"".concat(m," 1.5s ease-in-out infinite"),fontWeight:500},children:r})]})}):"posts"===t?(0,n.jsx)(a.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)"},gap:3,animation:"".concat(u," 0.5s ease-out")},children:[1,2,3,4,5,6].map(e=>(0,n.jsxs)(a.A,{sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2,backgroundColor:"grey.50",animation:"".concat(h," 1.5s ease-in-out infinite"),animationDelay:"".concat(.1*e,"s")},children:[(0,n.jsx)(a.A,{sx:{width:80,height:20,backgroundColor:"grey.300",borderRadius:1,mb:2,animation:"".concat(h," 1.2s ease-in-out infinite")}}),(0,n.jsx)(a.A,{sx:{width:"85%",height:24,backgroundColor:"grey.300",borderRadius:1,mb:1}}),(0,n.jsx)(a.A,{sx:{width:"60%",height:24,backgroundColor:"grey.300",borderRadius:1,mb:2}}),(0,n.jsx)(a.A,{sx:{width:"100%",height:16,backgroundColor:"grey.200",borderRadius:1,mb:1}}),(0,n.jsx)(a.A,{sx:{width:"90%",height:16,backgroundColor:"grey.200",borderRadius:1,mb:2}}),(0,n.jsx)(a.A,{sx:{display:"flex",gap:1,mb:2},children:[1,2,3].map(e=>(0,n.jsx)(a.A,{sx:{width:50+10*e,height:18,backgroundColor:"grey.200",borderRadius:1}},e))}),(0,n.jsxs)(a.A,{sx:{display:"flex",gap:2},children:[(0,n.jsx)(a.A,{sx:{width:60,height:16,backgroundColor:"grey.200",borderRadius:1}}),(0,n.jsx)(a.A,{sx:{width:40,height:16,backgroundColor:"grey.200",borderRadius:1}})]})]},e))}):(0,n.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",py:8,animation:"".concat(u," 0.4s ease-out")},children:(0,n.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,animation:"".concat(h," 2s ease-in-out infinite")},children:[(0,n.jsx)(i.A,{size:l(),thickness:4,sx:{color:"primary.main"}}),(0,n.jsx)(s.A,{variant:"body1",color:"text.secondary",sx:{animation:"".concat(m," 1.8s ease-in-out infinite"),fontWeight:500},children:r})]})})}},47644:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ea});var o=r(95155),n=r(12115),a=r(35695),i=r(54581),s=r(67217),l=r(9665),c=r(3127),d=r(18407),x=r(71803),h=r(700),m=r(41101),u=r(74964),p=r(38464),g=r(64341),b=r(335),f=r(58674),A=r(16481),j=r(93761),y=r(28890),v=r(19505),w=r(69817),k=r(94615),S=r(6821),C=r(7428),I=r(1644),z=r(77172),R=r(56454),T=r(23823),E=r(16301),W=r(69803),O=r(82814),N=r(38391),D=r(10496);let F=(0,n.memo)(e=>{let{children:t,className:r}=e,a=/language-(\w+)/.exec(r||""),s=a?a[1]:"text";return a?(0,o.jsx)(n.Suspense,{fallback:(0,o.jsx)(i.A,{sx:{height:"100px",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",color:"text.secondary",margin:"1.5rem 0"},children:"Loading code..."}),children:(0,o.jsx)(O.A,{style:N.A,language:s,PreTag:"div",customStyle:{borderRadius:"8px",fontSize:"0.875rem",lineHeight:1.5,margin:"1.5rem 0"},children:String(t).replace(/\n$/,"")})}):(0,o.jsx)(i.A,{component:"pre",sx:{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"1rem",margin:"1.5rem 0",overflow:"auto",fontSize:"0.875rem",lineHeight:1.5,fontFamily:"var(--font-jetbrains-mono), monospace"},children:(0,o.jsx)(i.A,{component:"code",children:t})})});F.displayName="CodeBlock";let H=(0,n.memo)(function(e){let{content:t,className:r="",style:a={}}=e,s=(0,n.useMemo)(()=>({img:e=>{let{src:t,alt:r,title:n}=e;return t&&"string"==typeof t?(0,o.jsx)(D.V,{src:t,alt:r||"이미지",caption:n,priority:!1,quality:85,enableZoom:!0,borderRadius:"8px"}):null},h1:e=>{let{children:t}=e;return(0,o.jsx)(h.A,{variant:"h3",component:"h1",sx:{my:3,fontWeight:700,lineHeight:1.2},children:t})},h2:e=>{let{children:t}=e;return(0,o.jsx)(h.A,{variant:"h4",component:"h2",sx:{my:2.5,fontWeight:600,lineHeight:1.3},children:t})},h3:e=>{let{children:t}=e;return(0,o.jsx)(h.A,{variant:"h5",component:"h3",sx:{my:2,fontWeight:600,lineHeight:1.4},children:t})},p:e=>{let{children:t}=e;return(0,o.jsx)(h.A,{variant:"body1",component:"p",sx:{mb:2.5,lineHeight:1.8,color:"text.primary",whiteSpace:"pre-wrap"},children:t})},br:()=>(0,o.jsx)(i.A,{component:"br",sx:{display:"block",content:'""',marginBottom:"1em"}}),blockquote:e=>{let{children:t}=e;return(0,o.jsx)(i.A,{component:"blockquote",sx:{borderLeft:"4px solid",borderColor:"primary.main",backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",margin:"1.5rem 0",padding:"1rem 1.5rem",borderRadius:"0 8px 8px 0","& p:last-child":{mb:0}},children:t})},pre:e=>{let{children:t}=e;return(0,o.jsx)(i.A,{component:"pre",sx:{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"1rem",margin:"1.5rem 0",overflow:"auto",fontSize:"0.875rem",lineHeight:1.5,fontFamily:"var(--font-jetbrains-mono), monospace"},children:t})},code:e=>{let{children:t,className:r}=e;return/language-(\w+)/.exec(r||"")?(0,o.jsx)(F,{className:r,children:String(t)}):(0,o.jsx)(i.A,{component:"code",sx:{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)",padding:"0.125rem 0.375rem",borderRadius:"4px",fontSize:"0.875em",fontFamily:"var(--font-jetbrains-mono), monospace",color:e=>"dark"===e.palette.mode?"rgb(249, 115, 22)":"rgb(194, 65, 12)"},children:t})},ul:e=>{let{children:t}=e;return(0,o.jsx)(i.A,{component:"ul",sx:{pl:3,my:1.5,"& li":{mb:.5}},children:t})},ol:e=>{let{children:t}=e;return(0,o.jsx)(i.A,{component:"ol",sx:{pl:3,my:1.5,"& li":{mb:.5}},children:t})},li:e=>{let{children:t}=e;return(0,o.jsx)(h.A,{component:"li",sx:{lineHeight:1.6,color:"text.primary"},children:t})},a:e=>{let{href:t,children:r}=e;return(0,o.jsx)(i.A,{component:"a",href:t,target:(null==t?void 0:t.startsWith("http"))?"_blank":void 0,rel:(null==t?void 0:t.startsWith("http"))?"noopener noreferrer":void 0,sx:{color:"primary.main",textDecoration:"none",borderBottom:"1px solid transparent",transition:"all 0.2s ease","&:hover":{borderBottomColor:"primary.main"}},children:r})},table:e=>{let{children:t}=e;return(0,o.jsx)(i.A,{sx:{overflow:"auto",my:2,border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:(0,o.jsx)(i.A,{component:"table",sx:{width:"100%",borderCollapse:"collapse"},children:t})})},th:e=>{let{children:t}=e;return(0,o.jsx)(i.A,{component:"th",sx:{padding:"0.75rem",textAlign:"left",backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)",borderBottom:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",fontWeight:600},children:t})},td:e=>{let{children:t}=e;return(0,o.jsx)(i.A,{component:"td",sx:{padding:"0.75rem",borderBottom:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"},children:t})},iframe:e=>{let{src:t,title:r,height:n,...a}=e;return(null==t?void 0:t.includes("codepen.io"))?(0,o.jsx)(i.A,{sx:{my:3,borderRadius:"8px",overflow:"hidden",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:(0,o.jsx)(i.A,{component:"iframe",src:t,title:r||"CodePen Embed",height:n||300,loading:"lazy",sx:{width:"100%",border:"none",display:"block"},...a})}):(0,o.jsx)(i.A,{component:"iframe",src:t,title:r,height:n,sx:{width:"100%",border:"none",borderRadius:"8px",my:2},...a})}}),[]),l=(0,n.useMemo)(()=>t,[t]);return(0,o.jsx)(i.A,{className:r,style:a,children:(0,o.jsx)(R.oz,{remarkPlugins:[T.A,E.A],rehypePlugins:[W.A],components:s,children:l})})});H.displayName="OptimizedMarkdown";var L=r(16324),P=r(73731),B=r(68534),M=r(42663),_=r(56278),U=r(54492),J=r(99927),q=r(71977),Y=r(70496),G=r(32730),K=r(60440),Z=r(60807);function V(e){let{postId:t}=e,r=(0,L.A)(),[a,s]=(0,n.useState)([]),[u,p]=(0,n.useState)(!0),[g,b]=(0,n.useState)(!1),[f,A]=(0,n.useState)({content:"",authorName:"",authorEmail:""}),[j,w]=(0,n.useState)(null),[k,S]=(0,n.useState)({open:!1,commentId:null}),[I,z]=(0,n.useState)(null),R=async()=>{try{let e=await fetch("/api/posts/".concat(t,"/comments"));if(e.ok){let t=await e.json();s(t)}}catch(e){console.error("Failed to fetch comments:",e)}finally{p(!1)}};(0,n.useEffect)(()=>{R()},[t]);let T=async e=>{if(e.preventDefault(),!f.content.trim()||!f.authorName.trim())return void z("내용과 이름을 입력해주세요.");b(!0),z(null);try{(await fetch("/api/posts/".concat(t,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok?(A({content:"",authorName:"",authorEmail:""}),R()):z("댓글 작성에 실패했습니다.")}catch(e){z("댓글 작성 중 오류가 발생했습니다.")}finally{b(!1)}},E=async(e,t)=>{try{(await fetch("/api/comments/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(w(null),R())}catch(e){console.error("Failed to update comment:",e)}},W=async e=>{try{(await fetch("/api/comments/".concat(e),{method:"DELETE"})).ok&&(S({open:!1,commentId:null}),R())}catch(e){console.error("Failed to delete comment:",e)}},O=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?(0,o.jsx)(i.A,{sx:{p:3},children:(0,o.jsx)(C.A,{variant:"minimal",message:"댓글을 불러오는 중..."})}):(0,o.jsxs)(i.A,{sx:{mt:6},children:[(0,o.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:4,pb:2,borderBottom:"2px solid ".concat(r.palette.divider)},children:[(0,o.jsx)(Y.A,{sx:{fontSize:24,color:"primary.main"}}),(0,o.jsx)(h.A,{variant:"h5",sx:{fontWeight:600,color:"text.primary"},children:"댓글"}),(0,o.jsx)(m.A,{label:a.length,size:"small",sx:{bgcolor:"primary.main",color:"white",fontWeight:600,minWidth:32,height:24}})]}),I&&(0,o.jsx)(l.A,{severity:"error",sx:{mb:3,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:I}),(0,o.jsxs)(d.A,{elevation:0,sx:{p:4,mb:4,borderRadius:3,border:"1px solid ".concat(r.palette.divider),bgcolor:"dark"===r.palette.mode?"rgba(255,255,255,0.02)":"rgba(0,0,0,0.01)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 20px rgba(0,0,0,0.08)",borderColor:"primary.main"}},children:[(0,o.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[(0,o.jsx)(G.A,{sx:{color:"primary.main",fontSize:20}}),(0,o.jsx)(h.A,{variant:"h6",sx:{fontWeight:600},children:"댓글 작성하기"})]}),(0,o.jsx)("form",{onSubmit:T,children:(0,o.jsxs)(x.A,{spacing:3,children:[(0,o.jsxs)(x.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,o.jsx)(P.A,{label:"이름",value:f.authorName,onChange:e=>A({...f,authorName:e.target.value}),required:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,transition:"all 0.2s ease","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}}}),(0,o.jsx)(P.A,{label:"이메일 (선택사항)",type:"email",value:f.authorEmail,onChange:e=>A({...f,authorEmail:e.target.value}),size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,transition:"all 0.2s ease","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}}}}})]}),(0,o.jsx)(P.A,{label:"댓글을 입력하세요...",multiline:!0,rows:4,value:f.content,onChange:e=>A({...f,content:e.target.value}),required:!0,placeholder:"정중하고 건설적인 댓글을 작성해주세요.",sx:{"& .MuiOutlinedInput-root":{borderRadius:2,transition:"all 0.2s ease","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderWidth:2}}}}}),(0,o.jsx)(i.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,o.jsx)(B.A,{type:"submit",variant:"contained",disabled:g,startIcon:(0,o.jsx)(K.A,{}),sx:{borderRadius:2,px:3,py:1,fontWeight:600,textTransform:"none","&:hover":{transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},transition:"all 0.2s ease"},children:g?"작성 중...":"댓글 작성"})})]})})]}),(0,o.jsx)(x.A,{spacing:3,children:a.map((e,t)=>(0,o.jsx)(d.A,{elevation:0,sx:{p:4,borderRadius:3,border:"1px solid ".concat(r.palette.divider),bgcolor:"dark"===r.palette.mode?"rgba(255,255,255,0.01)":"rgba(0,0,0,0.005)",position:"relative",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 20px rgba(0,0,0,0.06)",borderColor:"dark"===r.palette.mode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",transform:"translateY(-1px)"},"&::before":{content:'""',position:"absolute",top:0,left:0,width:4,height:"100%",background:"linear-gradient(180deg, \n                  ".concat(r.palette.primary.main," 0%, \n                  ").concat(r.palette.secondary.main," 100%)"),borderRadius:"2px 0 0 2px",opacity:.8}},children:(0,o.jsxs)(x.A,{direction:"row",spacing:3,children:[(0,o.jsx)(M.A,{sx:{bgcolor:"primary.main",width:48,height:48,background:"linear-gradient(135deg, \n                    ".concat(r.palette.primary.main," 0%, \n                    ").concat(r.palette.secondary.main," 100%)"),boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:(0,o.jsx)(Z.A,{sx:{fontSize:24}})}),(0,o.jsxs)(i.A,{sx:{flex:1},children:[(0,o.jsxs)(x.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:2},children:[(0,o.jsxs)(i.A,{children:[(0,o.jsxs)(x.A,{direction:"row",alignItems:"center",spacing:2,sx:{mb:.5},children:[(0,o.jsx)(h.A,{variant:"subtitle1",sx:{fontWeight:700,color:"text.primary"},children:e.authorName}),(0,o.jsx)(m.A,{label:"#".concat(t+1),size:"small",sx:{height:20,fontSize:"0.7rem",bgcolor:"dark"===r.palette.mode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.06)",color:"text.secondary"}})]}),(0,o.jsxs)(h.A,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.8rem"},children:[O(e.createdAt),e.updatedAt!==e.createdAt&&(0,o.jsx)(m.A,{label:"수정됨",size:"small",sx:{ml:1,height:16,fontSize:"0.6rem",bgcolor:"warning.main",color:"white"}})]})]}),(0,o.jsxs)(x.A,{direction:"row",spacing:.5,children:[(0,o.jsx)(c.A,{size:"small",onClick:()=>w(e),sx:{bgcolor:"dark"===r.palette.mode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.04)","&:hover":{bgcolor:"primary.main",color:"white",transform:"scale(1.1)"},transition:"all 0.2s ease"},children:(0,o.jsx)(y.A,{sx:{fontSize:16}})}),(0,o.jsx)(c.A,{size:"small",onClick:()=>S({open:!0,commentId:e.id}),sx:{bgcolor:"dark"===r.palette.mode?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.04)","&:hover":{bgcolor:"error.main",color:"white",transform:"scale(1.1)"},transition:"all 0.2s ease"},children:(0,o.jsx)(v.A,{sx:{fontSize:16}})})]})]}),(0,o.jsx)(i.A,{sx:{pl:2,borderLeft:"2px solid ".concat(r.palette.divider),borderRadius:1},children:(0,o.jsx)(h.A,{variant:"body1",sx:{whiteSpace:"pre-wrap",lineHeight:1.7,color:"text.primary",fontSize:"0.95rem"},children:e.content})})]})]})},e.id))}),0===a.length&&(0,o.jsxs)(d.A,{elevation:0,sx:{textAlign:"center",py:6,px:4,borderRadius:3,border:"2px dashed ".concat(r.palette.divider),bgcolor:"dark"===r.palette.mode?"rgba(255,255,255,0.01)":"rgba(0,0,0,0.005)"},children:[(0,o.jsx)(Y.A,{sx:{fontSize:48,color:"text.secondary",mb:2,opacity:.5}}),(0,o.jsx)(h.A,{variant:"h6",sx:{color:"text.secondary",mb:1},children:"아직 댓글이 없습니다"}),(0,o.jsx)(h.A,{variant:"body2",sx:{color:"text.secondary"},children:"첫 댓글을 작성해서 대화를 시작해보세요! \uD83D\uDCAC"})]}),(0,o.jsxs)(_.A,{open:!!j,onClose:()=>w(null),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,boxShadow:"0 10px 40px rgba(0,0,0,0.15)"}},children:[(0,o.jsxs)(U.A,{sx:{pb:1,borderBottom:"1px solid ".concat(r.palette.divider),display:"flex",alignItems:"center",gap:2},children:[(0,o.jsx)(y.A,{sx:{color:"primary.main"}}),(0,o.jsx)(h.A,{variant:"h6",sx:{fontWeight:600},children:"댓글 수정"})]}),(0,o.jsx)(J.A,{sx:{pt:3},children:(0,o.jsxs)(x.A,{spacing:3,children:[(0,o.jsx)(P.A,{label:"이름",value:(null==j?void 0:j.authorName)||"",onChange:e=>w(t=>t?{...t,authorName:e.target.value}:null),fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),(0,o.jsx)(P.A,{label:"댓글 내용",multiline:!0,rows:4,value:(null==j?void 0:j.content)||"",onChange:e=>w(t=>t?{...t,content:e.target.value}:null),fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})]})}),(0,o.jsxs)(q.A,{sx:{p:3,pt:2},children:[(0,o.jsx)(B.A,{onClick:()=>w(null),sx:{borderRadius:2,textTransform:"none",px:3},children:"취소"}),(0,o.jsx)(B.A,{onClick:()=>{j&&E(j.id,{content:j.content,authorName:j.authorName,authorEmail:j.authorEmail})},variant:"contained",sx:{borderRadius:2,textTransform:"none",px:3},children:"수정 완료"})]})]}),(0,o.jsxs)(_.A,{open:k.open,onClose:()=>S({open:!1,commentId:null}),PaperProps:{sx:{borderRadius:3,boxShadow:"0 10px 40px rgba(0,0,0,0.15)"}},children:[(0,o.jsxs)(U.A,{sx:{pb:1,borderBottom:"1px solid ".concat(r.palette.divider),display:"flex",alignItems:"center",gap:2},children:[(0,o.jsx)(v.A,{sx:{color:"error.main"}}),(0,o.jsx)(h.A,{variant:"h6",sx:{fontWeight:600},children:"댓글 삭제"})]}),(0,o.jsxs)(J.A,{sx:{pt:3},children:[(0,o.jsx)(h.A,{sx:{fontSize:"1rem",lineHeight:1.6},children:"정말로 이 댓글을 삭제하시겠습니까?"}),(0,o.jsx)(h.A,{variant:"body2",sx:{color:"text.secondary",mt:1},children:"삭제된 댓글은 복구할 수 없습니다."})]}),(0,o.jsxs)(q.A,{sx:{p:3,pt:2},children:[(0,o.jsx)(B.A,{onClick:()=>S({open:!1,commentId:null}),sx:{borderRadius:2,textTransform:"none",px:3},children:"취소"}),(0,o.jsx)(B.A,{onClick:()=>{k.commentId&&W(k.commentId)},color:"error",variant:"contained",sx:{borderRadius:2,textTransform:"none",px:3},children:"삭제하기"})]})]})]})}var $=r(83729),Q=r(14962),X=r(51746),ee=r(52260);function et(e){let{postId:t}=e,[r,a]=(0,n.useState)({count:0,userLiked:!1}),[s,l]=(0,n.useState)(!0),[d,x]=(0,n.useState)(!1),m=async()=>{try{let e=await fetch("/api/posts/".concat(t,"/likes"));if(e.ok){let t=await e.json();a(t)}}catch(e){console.error("Failed to fetch likes:",e)}finally{l(!1)}};(0,n.useEffect)(()=>{m()},[t]);let u=async()=>{if(!s&&!d){x(!0);try{let e=await fetch("/api/posts/".concat(t,"/likes"),{method:"POST"});if(e.ok){let t=await e.json();a({count:t.count,userLiked:t.userLiked}),setTimeout(()=>{x(!1)},300)}}catch(e){console.error("Failed to toggle like:",e),x(!1)}}};return(0,o.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1,userSelect:"none"},children:[(0,o.jsx)($.A,{title:r.userLiked?"좋아요 취소":"좋아요",children:(0,o.jsx)(c.A,{onClick:u,disabled:s||d,sx:{color:r.userLiked?"error.main":"text.secondary",transform:d?"scale(1.2)":"scale(1)",transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.1)",backgroundColor:r.userLiked?"error.lighter":"action.hover"}},children:(0,o.jsx)(Q.A,{in:!d,timeout:150,children:(0,o.jsx)(i.A,{children:r.userLiked?(0,o.jsx)(X.A,{sx:{fontSize:24,filter:d?"brightness(1.3)":"none"}}):(0,o.jsx)(ee.A,{sx:{fontSize:24}})})})})}),(0,o.jsx)(h.A,{variant:"body2",color:"text.secondary",sx:{minWidth:"24px",fontWeight:r.userLiked?"bold":"normal",color:r.userLiked?"error.main":"text.secondary",transition:"all 0.2s ease-in-out"},children:s?"...":r.count.toLocaleString()})]})}var er=r(79323),eo=r(83951),en=r(66577);function ea(){var e;let t=(0,a.useParams)(),r=(0,a.useRouter)(),R=t.slug,[T,E]=(0,n.useState)(null),[W,O]=(0,n.useState)(!0),[N,D]=(0,n.useState)(null),[F,L]=(0,n.useState)(!1),[P,B]=(0,n.useState)(!1),[M,_]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=async()=>{try{O(!0);let e=await fetch("/api/posts/slug/".concat(R));if(!e.ok)throw Error("Post not found");let t=await e.json();E(t),P||(U(t.id),B(!0))}catch(e){D(e instanceof Error?e.message:"Failed to load post")}finally{O(!1)}};R&&e()},[R,P]),(0,n.useEffect)(()=>{_(er.u.isAuthenticated())},[]);let U=async e=>{try{let t=await fetch("/api/posts/".concat(e,"/views"),{method:"POST",headers:{"Content-Type":"application/json"}});if(t.ok){let e=await t.json();E(t=>t?{...t,views:e.views}:null)}}catch(e){console.error("Failed to increment views:",e)}},J=async()=>{if(navigator.share)try{await navigator.share({title:null==T?void 0:T.title,text:null==T?void 0:T.excerpt,url:window.location.href})}catch(e){console.log("Error sharing:",e)}else navigator.clipboard.writeText(window.location.href)},q=async()=>{if((null==T?void 0:T.id)&&window.confirm("정말로 이 글을 삭제하시겠습니까?"))try{L(!0);let e=await er.u.authenticatedFetch("/api/posts/".concat(T.id),{method:"DELETE"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to delete post")}r.push("/")}catch(e){console.error("Error deleting post:",e),alert(e instanceof Error?e.message:"글 삭제에 실패했습니다.")}finally{L(!1)}},Y=e=>({html:"#ffebee",css:"#e3f2fd",javascript:"#fff9c4",typescript:"#e8f5ff",react:"#e0f7fa",nextjs:"#f3e5f5",vue:"#e8f5e8",nuxt:"#f1f8e9",frontend:"#e1f5fe",backend:"#f1f8e9",database:"#fff8e1",node:"#e8f5e8",python:"#fff3e0",development:"#f3e5f5",tools:"#e8eaf6",git:"#ffebee",devops:"#e8eaf6",tutorial:"#e8f5e8",review:"#fff3e0","tech insights":"#e3f2fd",personal:"#fce4ec",career:"#fce4ec",productivity:"#f3e5f5",ai:"#f9fbe7",bootstrap:"#f3e5f5","material-ui":"#e3f2fd","responsive design":"#ffebee",figma:"#fce4ec",zeplin:"#fff3e0"})[e.toLowerCase().trim()]||"#f5f5f5";return W?(0,o.jsx)(w.A,{children:(0,o.jsxs)(i.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,o.jsx)(k.A,{}),(0,o.jsx)(s.A,{maxWidth:"md",sx:{py:4},children:(0,o.jsx)(C.A,{variant:"default",message:"포스트를 불러오는 중..."})}),(0,o.jsx)(S.A,{})]})}):N||!T?(0,o.jsx)(w.A,{children:(0,o.jsxs)(i.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,o.jsx)(k.A,{}),(0,o.jsx)(s.A,{maxWidth:"md",sx:{py:4},children:(0,o.jsx)(l.A,{severity:"error",children:N||"Post not found"})}),(0,o.jsx)(S.A,{})]})}):(0,o.jsx)(w.A,{children:(0,o.jsxs)(i.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,o.jsx)(k.A,{}),(0,o.jsxs)(s.A,{maxWidth:!1,sx:{maxWidth:{xs:"100%",md:"1200px"},mx:"auto",px:{xs:2,sm:3,md:2},py:{xs:3,sm:4,md:4}},children:[(0,o.jsx)(i.A,{sx:{mb:4},children:(0,o.jsx)(c.A,{onClick:()=>{r.back()},sx:{mb:2},children:(0,o.jsx)(p.A,{})})}),(0,o.jsx)(d.A,{sx:{p:{xs:2,md:4},boxShadow:"none",maxWidth:"800px",mx:"auto"},children:(0,o.jsxs)(x.A,{spacing:4,children:[(0,o.jsxs)(i.A,{children:[(0,o.jsx)(h.A,{variant:"h3",component:"h1",gutterBottom:!0,children:T.title}),(0,o.jsx)(h.A,{variant:"h6",color:"text.secondary",sx:{mb:3},children:T.excerpt}),(0,o.jsxs)(x.A,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"flex-start",sm:"center"},sx:{mb:3},children:[(0,o.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,o.jsx)(g.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,o.jsx)(h.A,{variant:"body2",color:"text.secondary",children:new Date(T.publishedAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})]}),(0,o.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,o.jsx)(b.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,o.jsxs)(h.A,{variant:"body2",color:"text.secondary",children:[T.readTime,"분 읽기"]})]}),(0,o.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,o.jsx)(f.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,o.jsxs)(h.A,{variant:"body2",color:"text.secondary",children:[null==(e=T.views)?void 0:e.toLocaleString()," 조회"]})]})]}),(0,o.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:3},children:[(0,o.jsx)(m.A,{label:T.category,sx:{background:eo.Gv[T.category]||"linear-gradient(135deg, #f0f0f0, #e0e0e0)",color:"#000000",fontWeight:"bold",border:"1px solid rgba(0, 0, 0, 0.1)"}}),T.tags.map(e=>(0,o.jsx)(en.A,{label:e,getColor:Y},e)),T.featured&&(0,o.jsx)(m.A,{label:"Featured",color:"secondary",size:"small"})]}),(0,o.jsxs)(x.A,{direction:"row",spacing:1,alignItems:"center",sx:{mb:4},children:[(0,o.jsx)(et,{postId:T.id}),(0,o.jsx)(u.A,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),(0,o.jsx)(c.A,{onClick:J,title:"공유하기",children:(0,o.jsx)(A.A,{})}),(0,o.jsx)(c.A,{title:"북마크",children:(0,o.jsx)(j.A,{})}),M&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),(0,o.jsx)(c.A,{onClick:()=>{(null==T?void 0:T.id)&&r.push("/write?edit=".concat(T.id))},title:"수정하기",color:"primary",children:(0,o.jsx)(y.A,{})}),(0,o.jsx)(c.A,{onClick:q,title:"삭제하기",color:"error",disabled:F,children:(0,o.jsx)(v.A,{})})]})]}),(0,o.jsx)(u.A,{})]}),(0,o.jsx)(i.A,{children:(0,o.jsx)(H,{content:T.content})}),(0,o.jsx)(u.A,{}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)(h.A,{variant:"h6",gutterBottom:!0,children:"작성자 정보"}),(0,o.jsxs)(x.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,o.jsx)(z.BK,{src:I.w.owner.avatar,alt:I.w.owner.name,size:56,fallbackText:I.w.owner.name.charAt(0),priority:!0,quality:90}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)(h.A,{variant:"subtitle1",fontWeight:"bold",children:I.w.owner.name}),(0,o.jsx)(h.A,{variant:"body2",color:"text.secondary",children:I.w.owner.bio}),(0,o.jsx)(h.A,{variant:"body2",color:"text.secondary",children:I.w.owner.email})]})]})]}),(0,o.jsx)(V,{postId:T.id})]})})]}),(0,o.jsx)(S.A,{})]})})}},79323:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});let o="blog_auth";class n{static isAuthenticated(){let e=localStorage.getItem(o);if(!e)return!1;try{let{timestamp:t}=JSON.parse(e);if(!(Date.now()-t<864e5))return this.logout(),!1;return!0}catch(e){return this.logout(),!1}}static async login(e){try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),r=await t.json();if(r.success){let e={timestamp:Date.now(),user:r.user,token:r.token};return localStorage.setItem(o,JSON.stringify(e)),!0}return!1}catch(e){return console.error("Login error:",e),!1}}static logout(){localStorage.removeItem(o)}static clearAllSessions(){localStorage.clear()}static getUser(){if(!this.isAuthenticated())return null;let e=localStorage.getItem(o);if(!e)return null;try{let{user:t}=JSON.parse(e);return t}catch(e){return null}}static getAuthHeaders(){let e=localStorage.getItem(o);if(!e)return console.log("[AUTH] No auth data in localStorage"),{};try{let{token:t}=JSON.parse(e);if(!t)return console.log("[AUTH] No token in auth data"),{};return console.log("[AUTH] Token available, length: ".concat(t.length)),{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}catch(e){return console.error("[AUTH] Error parsing auth data:",e),{}}}static debugAuthState(){let e=localStorage.getItem(o);if(!e)return{authenticated:!1,reason:"No auth data"};try{var t;let r=JSON.parse(e),o=Date.now(),n=o-r.timestamp>864e5;return{authenticated:this.isAuthenticated(),hasToken:!!r.token,tokenLength:(null==(t=r.token)?void 0:t.length)||0,timestamp:r.timestamp,age:o-r.timestamp,isExpired:n,user:r.user}}catch(e){return{authenticated:!1,reason:"Parse error",error:e instanceof Error?e.message:"Unknown error"}}}static async authenticatedFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("[AUTH] Making authenticated request to: ".concat(e)),!this.isAuthenticated())throw console.error("[AUTH] User not authenticated"),Error("Authentication required");let r=this.getAuthHeaders(),o="object"==typeof r&&r&&"Authorization"in r?r.Authorization:null;console.log("[AUTH] Authorization header: ".concat(o?"".concat(o.substring(0,15),"..."):"None"));let n={...r,...t.headers};return console.log("[AUTH] Request method: ".concat(t.method||"GET")),console.log("[AUTH] Final headers:",Object.keys(n)),fetch(e,{...t,headers:n})}}},81409:(e,t,r)=>{Promise.resolve().then(r.bind(r,47644))},83951:(e,t,r)=>{"use strict";r.d(t,{Gv:()=>a,Z_:()=>n,qr:()=>o});let o=["Tech Insights","Code Solutions","Study Journal"],n={"Tech Insights":"기술 트렌드와 인사이트를 공유합니다.","Code Solutions":"실무에서 마주하는 문제와 해결책을 다룹니다.","Study Journal":"학습 과정과 기록을 공유하는 일지입니다."},a={"Tech Insights":"linear-gradient(135deg, #B3E5FC, #81D4FA)","Code Solutions":"linear-gradient(135deg, #FFB5A7, #FCD29F)","Study Journal":"linear-gradient(135deg, #F8BBD9, #E2E2FD)"}}},e=>{var t=t=>e(e.s=t);e.O(0,[112,529,662,150,421,259,132,441,684,120],()=>t(81409)),_N_E=e.O()}]);