(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{1644:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});let n={owner:{id:"owner-soomin",name:"Suri",email:"yzsumin@naver.com",bio:"개발자이자 블로거입니다.",avatar:"/images/profile.jpg",social:{github:"https://github.com/yourusername",linkedin:"https://linkedin.com/in/yourusername",twitter:"https://twitter.com/yourusername"}},metadata:{title:"SuriBlog",description:"개발과 기술에 대한 이야기",url:"https://yourdomain.com",image:"/images/og-image.jpg"},auth:{adminPassword:r(49509).env.BLOG_ADMIN_PASSWORD||"admin123!",sessionTimeout:864e5}}},47644:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var n=r(95155),o=r(12115),i=r(35695),a=r(54581),s=r(67217),l=r(71803),c=r(17775),d=r(9665),x=r(3127),h=r(18407),m=r(700),u=r(41101),p=r(74964),f=r(38464),j=r(64341),g=r(335),A=r(58674),b=r(16481),y=r(93761),v=r(28890),w=r(19505),k=r(69817),S=r(94615),C=r(6821),E=r(1644),z=r(33628),I=r(88240),W=r(84823),L=r(82814),N=r(38391);function T(e){let{content:t,className:r="",style:o={}}=e;return(0,n.jsx)(a.A,{className:r,style:o,children:(0,n.jsx)(I.oz,{remarkPlugins:[W.A],components:{img:e=>{let{src:t,alt:r,title:o}=e;return t&&"string"==typeof t?(0,n.jsx)(z.VP,{src:t,alt:r||"이미지",caption:o,priority:!1,quality:85,enableZoom:!0,borderRadius:"8px"}):null},h1:e=>{let{children:t}=e;return(0,n.jsx)(m.A,{variant:"h3",component:"h1",sx:{my:3,fontWeight:700,lineHeight:1.2},children:t})},h2:e=>{let{children:t}=e;return(0,n.jsx)(m.A,{variant:"h4",component:"h2",sx:{my:2.5,fontWeight:600,lineHeight:1.3},children:t})},h3:e=>{let{children:t}=e;return(0,n.jsx)(m.A,{variant:"h5",component:"h3",sx:{my:2,fontWeight:600,lineHeight:1.4},children:t})},p:e=>{let{children:t}=e;return(0,n.jsx)(m.A,{variant:"body1",component:"p",sx:{mb:2,lineHeight:1.7,color:"text.primary"},children:t})},blockquote:e=>{let{children:t}=e;return(0,n.jsx)(a.A,{component:"blockquote",sx:{borderLeft:"4px solid",borderColor:"primary.main",backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",margin:"1.5rem 0",padding:"1rem 1.5rem",borderRadius:"0 8px 8px 0","& p:last-child":{mb:0}},children:t})},pre:e=>{let{children:t}=e;return(0,n.jsx)(a.A,{component:"pre",sx:{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"1rem",margin:"1.5rem 0",overflow:"auto",fontSize:"0.875rem",lineHeight:1.5,fontFamily:"var(--font-jetbrains-mono), monospace"},children:t})},code:e=>{let{children:t,className:r}=e,o=/language-(\w+)/.exec(r||"");return o?(0,n.jsx)(L.A,{style:N.A,language:o[1],PreTag:"div",customStyle:{borderRadius:"8px",fontSize:"0.875rem",lineHeight:1.5},children:String(t).replace(/\n$/,"")}):(0,n.jsx)(a.A,{component:"code",sx:{backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)",padding:"0.125rem 0.375rem",borderRadius:"4px",fontSize:"0.875em",fontFamily:"var(--font-jetbrains-mono), monospace",color:e=>"dark"===e.palette.mode?"rgb(249, 115, 22)":"rgb(194, 65, 12)"},children:t})},ul:e=>{let{children:t}=e;return(0,n.jsx)(a.A,{component:"ul",sx:{pl:3,my:1.5,"& li":{mb:.5}},children:t})},ol:e=>{let{children:t}=e;return(0,n.jsx)(a.A,{component:"ol",sx:{pl:3,my:1.5,"& li":{mb:.5}},children:t})},li:e=>{let{children:t}=e;return(0,n.jsx)(m.A,{component:"li",sx:{lineHeight:1.6,color:"text.primary"},children:t})},a:e=>{let{href:t,children:r}=e;return(0,n.jsx)(a.A,{component:"a",href:t,target:(null==t?void 0:t.startsWith("http"))?"_blank":void 0,rel:(null==t?void 0:t.startsWith("http"))?"noopener noreferrer":void 0,sx:{color:"primary.main",textDecoration:"none",borderBottom:"1px solid transparent",transition:"all 0.2s ease","&:hover":{borderBottomColor:"primary.main"}},children:r})},table:e=>{let{children:t}=e;return(0,n.jsx)(a.A,{sx:{overflow:"auto",my:2,border:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:"8px"},children:(0,n.jsx)(a.A,{component:"table",sx:{width:"100%",borderCollapse:"collapse"},children:t})})},th:e=>{let{children:t}=e;return(0,n.jsx)(a.A,{component:"th",sx:{padding:"0.75rem",textAlign:"left",backgroundColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)",borderBottom:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",fontWeight:600},children:t})},td:e=>{let{children:t}=e;return(0,n.jsx)(a.A,{component:"td",sx:{padding:"0.75rem",borderBottom:"1px solid",borderColor:e=>"dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"},children:t})}},children:t})})}var P=r(73731),F=r(68534),B=r(42663),D=r(56278),H=r(54492),R=r(99927),O=r(71977),_=r(60440),q=r(60807);function K(e){let{postId:t}=e,[r,i]=(0,o.useState)([]),[s,c]=(0,o.useState)(!0),[u,p]=(0,o.useState)(!1),[f,j]=(0,o.useState)({content:"",authorName:"",authorEmail:""}),[g,A]=(0,o.useState)(null),[b,y]=(0,o.useState)({open:!1,commentId:null}),[k,S]=(0,o.useState)(null),C=async()=>{try{let e=await fetch("/api/posts/".concat(t,"/comments"));if(e.ok){let t=await e.json();i(t)}}catch(e){console.error("Failed to fetch comments:",e)}finally{c(!1)}};(0,o.useEffect)(()=>{C()},[t]);let E=async e=>{if(e.preventDefault(),!f.content.trim()||!f.authorName.trim())return void S("내용과 이름을 입력해주세요.");p(!0),S(null);try{(await fetch("/api/posts/".concat(t,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok?(j({content:"",authorName:"",authorEmail:""}),C()):S("댓글 작성에 실패했습니다.")}catch(e){S("댓글 작성 중 오류가 발생했습니다.")}finally{p(!1)}},z=async(e,t)=>{try{(await fetch("/api/comments/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(A(null),C())}catch(e){console.error("Failed to update comment:",e)}},I=async e=>{try{(await fetch("/api/comments/".concat(e),{method:"DELETE"})).ok&&(y({open:!1,commentId:null}),C())}catch(e){console.error("Failed to delete comment:",e)}},W=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?(0,n.jsx)(a.A,{sx:{p:3},children:(0,n.jsx)(m.A,{children:"댓글을 불러오는 중..."})}):(0,n.jsxs)(a.A,{sx:{mt:4},children:[(0,n.jsxs)(m.A,{variant:"h5",gutterBottom:!0,children:["댓글 (",r.length,")"]}),k&&(0,n.jsx)(d.A,{severity:"error",sx:{mb:2},children:k}),(0,n.jsx)(h.A,{sx:{p:3,mb:3},children:(0,n.jsx)("form",{onSubmit:E,children:(0,n.jsxs)(l.A,{spacing:2,children:[(0,n.jsxs)(l.A,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,n.jsx)(P.A,{label:"이름",value:f.authorName,onChange:e=>j({...f,authorName:e.target.value}),required:!0,size:"small"}),(0,n.jsx)(P.A,{label:"이메일 (선택사항)",type:"email",value:f.authorEmail,onChange:e=>j({...f,authorEmail:e.target.value}),size:"small"})]}),(0,n.jsx)(P.A,{label:"댓글을 입력하세요",multiline:!0,rows:3,value:f.content,onChange:e=>j({...f,content:e.target.value}),required:!0}),(0,n.jsx)(a.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(F.A,{type:"submit",variant:"contained",disabled:u,startIcon:(0,n.jsx)(_.A,{}),children:u?"작성 중...":"댓글 작성"})})]})})}),(0,n.jsx)(l.A,{spacing:2,children:r.map(e=>(0,n.jsx)(h.A,{sx:{p:3},children:(0,n.jsxs)(l.A,{direction:"row",spacing:2,children:[(0,n.jsx)(B.A,{sx:{bgcolor:"primary.main"},children:(0,n.jsx)(q.A,{})}),(0,n.jsxs)(a.A,{sx:{flex:1},children:[(0,n.jsxs)(l.A,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,n.jsxs)(a.A,{children:[(0,n.jsx)(m.A,{variant:"subtitle2",fontWeight:"bold",children:e.authorName}),(0,n.jsxs)(m.A,{variant:"caption",color:"text.secondary",children:[W(e.createdAt),e.updatedAt!==e.createdAt&&" (수정됨)"]})]}),(0,n.jsxs)(l.A,{direction:"row",spacing:1,children:[(0,n.jsx)(x.A,{size:"small",onClick:()=>A(e),children:(0,n.jsx)(v.A,{fontSize:"small"})}),(0,n.jsx)(x.A,{size:"small",color:"error",onClick:()=>y({open:!0,commentId:e.id}),children:(0,n.jsx)(w.A,{fontSize:"small"})})]})]}),(0,n.jsx)(m.A,{variant:"body2",sx:{mt:1,whiteSpace:"pre-wrap"},children:e.content})]})]})},e.id))}),0===r.length&&(0,n.jsx)(a.A,{sx:{textAlign:"center",py:4},children:(0,n.jsx)(m.A,{color:"text.secondary",children:"아직 댓글이 없습니다. 첫 댓글을 작성해보세요!"})}),(0,n.jsxs)(D.A,{open:!!g,onClose:()=>A(null),maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(H.A,{children:"댓글 수정"}),(0,n.jsx)(R.A,{children:(0,n.jsxs)(l.A,{spacing:2,sx:{mt:1},children:[(0,n.jsx)(P.A,{label:"이름",value:(null==g?void 0:g.authorName)||"",onChange:e=>A(t=>t?{...t,authorName:e.target.value}:null),fullWidth:!0,size:"small"}),(0,n.jsx)(P.A,{label:"댓글 내용",multiline:!0,rows:4,value:(null==g?void 0:g.content)||"",onChange:e=>A(t=>t?{...t,content:e.target.value}:null),fullWidth:!0})]})}),(0,n.jsxs)(O.A,{children:[(0,n.jsx)(F.A,{onClick:()=>A(null),children:"취소"}),(0,n.jsx)(F.A,{onClick:()=>{g&&z(g.id,{content:g.content,authorName:g.authorName,authorEmail:g.authorEmail})},variant:"contained",children:"수정"})]})]}),(0,n.jsxs)(D.A,{open:b.open,onClose:()=>y({open:!1,commentId:null}),children:[(0,n.jsx)(H.A,{children:"댓글 삭제"}),(0,n.jsx)(R.A,{children:(0,n.jsx)(m.A,{children:"정말로 이 댓글을 삭제하시겠습니까?"})}),(0,n.jsxs)(O.A,{children:[(0,n.jsx)(F.A,{onClick:()=>y({open:!1,commentId:null}),children:"취소"}),(0,n.jsx)(F.A,{onClick:()=>{b.commentId&&I(b.commentId)},color:"error",variant:"contained",children:"삭제"})]})]})]})}var J=r(83729),G=r(14962),M=r(51746),U=r(52260);function V(e){let{postId:t}=e,[r,i]=(0,o.useState)({count:0,userLiked:!1}),[s,l]=(0,o.useState)(!0),[c,d]=(0,o.useState)(!1),h=async()=>{try{let e=await fetch("/api/posts/".concat(t,"/likes"));if(e.ok){let t=await e.json();i(t)}}catch(e){console.error("Failed to fetch likes:",e)}finally{l(!1)}};(0,o.useEffect)(()=>{h()},[t]);let u=async()=>{if(!s&&!c){d(!0);try{let e=await fetch("/api/posts/".concat(t,"/likes"),{method:"POST"});if(e.ok){let t=await e.json();i({count:t.count,userLiked:t.userLiked}),setTimeout(()=>{d(!1)},300)}}catch(e){console.error("Failed to toggle like:",e),d(!1)}}};return(0,n.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1,userSelect:"none"},children:[(0,n.jsx)(J.A,{title:r.userLiked?"좋아요 취소":"좋아요",children:(0,n.jsx)(x.A,{onClick:u,disabled:s||c,sx:{color:r.userLiked?"error.main":"text.secondary",transform:c?"scale(1.2)":"scale(1)",transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.1)",backgroundColor:r.userLiked?"error.lighter":"action.hover"}},children:(0,n.jsx)(G.A,{in:!c,timeout:150,children:(0,n.jsx)(a.A,{children:r.userLiked?(0,n.jsx)(M.A,{sx:{fontSize:24,filter:c?"brightness(1.3)":"none"}}):(0,n.jsx)(U.A,{sx:{fontSize:24}})})})})}),(0,n.jsx)(m.A,{variant:"body2",color:"text.secondary",sx:{minWidth:"24px",fontWeight:r.userLiked?"bold":"normal",color:r.userLiked?"error.main":"text.secondary",transition:"all 0.2s ease-in-out"},children:s?"...":r.count.toLocaleString()})]})}function Z(){var e;let t=(0,i.useParams)(),r=(0,i.useRouter)(),I=t.slug,[W,L]=(0,o.useState)(null),[N,P]=(0,o.useState)(!0),[F,B]=(0,o.useState)(null),[D,H]=(0,o.useState)(!1),[R,O]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=async()=>{try{P(!0);let e=await fetch("/api/posts/slug/".concat(I));if(!e.ok)throw Error("Post not found");let t=await e.json();L(t),R||(_(t.id),O(!0))}catch(e){B(e instanceof Error?e.message:"Failed to load post")}finally{P(!1)}};I&&e()},[I,R]);let _=async e=>{try{let t=await fetch("/api/posts/".concat(e,"/views"),{method:"POST",headers:{"Content-Type":"application/json"}});if(t.ok){let e=await t.json();L(t=>t?{...t,views:e.views}:null)}}catch(e){console.error("Failed to increment views:",e)}},q=async()=>{if(navigator.share)try{await navigator.share({title:null==W?void 0:W.title,text:null==W?void 0:W.excerpt,url:window.location.href})}catch(e){console.log("Error sharing:",e)}else navigator.clipboard.writeText(window.location.href)},J=async()=>{if((null==W?void 0:W.id)&&window.confirm("정말로 이 글을 삭제하시겠습니까?"))try{if(H(!0),!(await fetch("/api/posts/".concat(W.id),{method:"DELETE"})).ok)throw Error("Failed to delete post");r.push("/")}catch(e){console.error("Error deleting post:",e),alert("글 삭제에 실패했습니다.")}finally{H(!1)}},G=e=>({html:"#ffebee",css:"#e3f2fd",javascript:"#fff9c4",typescript:"#e8f5ff",react:"#e0f7fa",nextjs:"#f3e5f5",vue:"#e8f5e8",nuxt:"#f1f8e9",frontend:"#e1f5fe",backend:"#f1f8e9",database:"#fff8e1",node:"#e8f5e8",python:"#fff3e0",development:"#f3e5f5",tools:"#e8eaf6",git:"#ffebee",devops:"#e8eaf6",tutorial:"#e8f5e8",review:"#fff3e0","tech insights":"#e3f2fd",personal:"#fce4ec",career:"#fce4ec",productivity:"#f3e5f5",ai:"#f9fbe7",bootstrap:"#f3e5f5","material-ui":"#e3f2fd","responsive design":"#ffebee",figma:"#fce4ec",zeplin:"#fff3e0"})[e.toLowerCase().trim()]||"#f5f5f5";return N?(0,n.jsx)(k.A,{children:(0,n.jsxs)(a.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,n.jsx)(S.A,{}),(0,n.jsx)(s.A,{maxWidth:"md",sx:{py:4},children:(0,n.jsxs)(l.A,{spacing:3,children:[(0,n.jsx)(c.A,{variant:"text",width:"60%",height:60}),(0,n.jsx)(c.A,{variant:"text",width:"100%",height:24}),(0,n.jsx)(c.A,{variant:"rectangular",width:"100%",height:400})]})}),(0,n.jsx)(C.A,{})]})}):F||!W?(0,n.jsx)(k.A,{children:(0,n.jsxs)(a.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,n.jsx)(S.A,{}),(0,n.jsx)(s.A,{maxWidth:"md",sx:{py:4},children:(0,n.jsx)(d.A,{severity:"error",children:F||"Post not found"})}),(0,n.jsx)(C.A,{})]})}):(0,n.jsx)(k.A,{children:(0,n.jsxs)(a.A,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[(0,n.jsx)(S.A,{}),(0,n.jsxs)(s.A,{maxWidth:"md",sx:{py:4},children:[(0,n.jsx)(a.A,{sx:{mb:4},children:(0,n.jsx)(x.A,{onClick:()=>{r.back()},sx:{mb:2},children:(0,n.jsx)(f.A,{})})}),(0,n.jsx)(h.A,{sx:{p:{xs:3,md:6},boxShadow:"none"},children:(0,n.jsxs)(l.A,{spacing:4,children:[(0,n.jsxs)(a.A,{children:[(0,n.jsx)(m.A,{variant:"h3",component:"h1",gutterBottom:!0,children:W.title}),(0,n.jsx)(m.A,{variant:"h6",color:"text.secondary",sx:{mb:3},children:W.excerpt}),(0,n.jsxs)(l.A,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"flex-start",sm:"center"},sx:{mb:3},children:[(0,n.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(j.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,n.jsx)(m.A,{variant:"body2",color:"text.secondary",children:new Date(W.publishedAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})]}),(0,n.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(g.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,n.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:[W.readTime,"분 읽기"]})]}),(0,n.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(A.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,n.jsxs)(m.A,{variant:"body2",color:"text.secondary",children:[null==(e=W.views)?void 0:e.toLocaleString()," 조회"]})]})]}),(0,n.jsxs)(a.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:3},children:[(0,n.jsx)(u.A,{label:W.category,color:"primary",variant:"filled"}),W.tags.map(e=>(0,n.jsx)(u.A,{label:e,size:"small",sx:{backgroundColor:G(e),border:"none",color:"#555","&:hover":{backgroundColor:G(e)}}},e)),W.featured&&(0,n.jsx)(u.A,{label:"Featured",color:"secondary",size:"small"})]}),(0,n.jsxs)(l.A,{direction:"row",spacing:1,alignItems:"center",sx:{mb:4},children:[(0,n.jsx)(V,{postId:W.id}),(0,n.jsx)(p.A,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),(0,n.jsx)(x.A,{onClick:q,title:"공유하기",children:(0,n.jsx)(b.A,{})}),(0,n.jsx)(x.A,{title:"북마크",children:(0,n.jsx)(y.A,{})}),(0,n.jsx)(x.A,{onClick:()=>{(null==W?void 0:W.id)&&r.push("/write?edit=".concat(W.id))},title:"수정하기",color:"primary",children:(0,n.jsx)(v.A,{})}),(0,n.jsx)(x.A,{onClick:J,title:"삭제하기",color:"error",disabled:D,children:(0,n.jsx)(w.A,{})})]}),(0,n.jsx)(p.A,{})]}),(0,n.jsx)(a.A,{children:(0,n.jsx)(T,{content:W.content})}),(0,n.jsx)(p.A,{}),(0,n.jsxs)(a.A,{children:[(0,n.jsx)(m.A,{variant:"h6",gutterBottom:!0,children:"작성자 정보"}),(0,n.jsxs)(l.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,n.jsx)(z.BK,{src:E.w.owner.avatar,alt:E.w.owner.name,size:56,fallbackText:E.w.owner.name.charAt(0),priority:!0,quality:90}),(0,n.jsxs)(a.A,{children:[(0,n.jsx)(m.A,{variant:"subtitle1",fontWeight:"bold",children:E.w.owner.name}),(0,n.jsx)(m.A,{variant:"body2",color:"text.secondary",children:E.w.owner.bio}),(0,n.jsx)(m.A,{variant:"body2",color:"text.secondary",children:E.w.owner.email})]})]})]}),(0,n.jsx)(K,{postId:W.id})]})})]}),(0,n.jsx)(C.A,{})]})})}},81409:(e,t,r)=>{Promise.resolve().then(r.bind(r,47644))}},e=>{var t=t=>e(e.s=t);e.O(0,[112,529,374,690,317,259,628,441,684,120],()=>t(81409)),_N_E=e.O()}]);